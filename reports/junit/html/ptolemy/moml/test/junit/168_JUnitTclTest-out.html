<html xmlns:string="xalan://java.lang.String" xmlns:lxslt="http://xml.apache.org/xslt">
    <head>
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Standard Output from JUnitTclTest</title>
    </head>
    <body>
        <pre>/home/travis/build/icyphy/ptII/ptolemy/moml/test/ConvertToLazy.tcl
testDefs.tcl: setting time out to 9000 seconds at Fri Jul 12 18:29:15 UTC 2019
365 ms. Memory: 120832K Free: 79958K (66%)
/home/travis/build/icyphy/ptII/ptolemy/moml/test/Documentation.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/EntityLibrary.tcl
This test will print an error message to stderr which can be ignored
/home/travis/build/icyphy/ptII/ptolemy/moml/test/ImportAttribute.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/LevelCrossingLinkTest.tcl
16 ms. Memory: 147456K Free: 117358K (80%)
4 ms. Memory: 147456K Free: 114256K (77%)
4 ms. Memory: 147456K Free: 113256K (77%)
4 ms. Memory: 147456K Free: 110704K (75%)
/home/travis/build/icyphy/ptII/ptolemy/moml/test/LibraryAttribute.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/LibraryBuilder.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/Location.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/MoMLAttribute.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/MoMLChangeRequest.tcl
3 ms. Memory: 147456K Free: 103022K (70%)


==== $PTII/ptolemy/moml/test/MoMLChangeRequest.tcl: MoMLChangeRequest-4.1 Call two arg constructor (Originator, request)
==== Contents of test case:

    # Create a base model.
    set parser [java::new ptolemy.moml.MoMLParser]
    $parser reset
    set toplevel4 [java::cast ptolemy.actor.CompositeActor  [$parser parse $baseModel4]]
    set manager [java::new ptolemy.actor.Manager [$toplevel4 workspace] "w"]
    $toplevel4 setManager $manager

    set change [java::new ptolemy.moml.MoMLChangeRequest  $toplevel4 $baseModel5]
    
    # NOTE: Request is filled immediately because the model is not running.
    # Note that this call also ends up calling MoMLParser.getToplevel()
    $manager requestChange $change

    $toplevel4 exportMoML

==== Result was:
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd"&gt;
&lt;entity name="top4" class="ptolemy.actor.TypedCompositeActor"&gt;
    &lt;property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.1.devel"&gt;
    &lt;/property&gt;
    &lt;property name="dir4" class="ptolemy.domains.sdf.kernel.SDFDirector"&gt;
        &lt;property name="iterations" class="ptolemy.data.expr.Parameter" value="4"&gt;
        &lt;/property&gt;
    &lt;/property&gt;
&lt;/entity&gt;

---- KNOWN Failure, Result should have been:
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd"&gt;
&lt;entity name="top5" class="ptolemy.actor.TypedCompositeActor"&gt;
    &lt;property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="2.1-devel-2"&gt;
    &lt;/property&gt;
    &lt;property name="dir5" class="ptolemy.domains.sdf.kernel.SDFDirector"&gt;
        &lt;property name="Scheduler" class="ptolemy.domains.sdf.kernel.SDFScheduler"&gt;
        &lt;/property&gt;
        &lt;property name="allowDisconnectedGraphs" class="ptolemy.data.expr.Parameter" value="false"&gt;
        &lt;/property&gt;
        &lt;property name="allowRateChanges" class="ptolemy.data.expr.Parameter" value="false"&gt;
        &lt;/property&gt;
        &lt;property name="iterations" class="ptolemy.data.expr.Parameter" value="5"&gt;
        &lt;/property&gt;
        &lt;property name="vectorizationFactor" class="ptolemy.data.expr.Parameter" value="1"&gt;
        &lt;/property&gt;
    &lt;/property&gt;
&lt;/entity&gt;

---- MoMLChangeRequest-4.1 Failed, but this is a KNOWN failure
/home/travis/build/icyphy/ptII/ptolemy/moml/test/MoMLCommandLineApplication.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/MoMLParser.tcl
    If you get a 'X connection to xxx:11.0 broken' message, then
    see $PTII/ptolemy/moml/filter/RemoveGraphicalClasses.java
    Or, under Solaris, run java -verbose -classpath 
           ${PTII}/lib/ptjacl.jar:${PTII}/lib/diva.jar:${PTII}
           tcl.lang.Shell xxx.tcl
10 ms. Memory: 147456K Free: 119387K (81%)
8 ms. Memory: 147456K Free: 116345K (79%)
5 ms. Memory: 147456K Free: 115321K (78%)
3 ms. Memory: 147456K Free: 114811K (78%)
3 ms. Memory: 147456K Free: 113787K (77%)
3 ms. Memory: 147456K Free: 112763K (76%)
3 ms. Memory: 147456K Free: 111739K (76%)
/home/travis/build/icyphy/ptII/ptolemy/moml/test/MoMLParserNoPackage.tcl


==== $PTII/ptolemy/moml/test/MoMLParserNoPackage.tcl: MoMLParserNoPackage-30.1 If an actor has no package, then we should be able to have two of them in a model
==== Contents of test case:


    # This test fails under JUnit/Ant because JUnit/Ant does not like java classes with no package

    # Eclipse complains if we have a .java file that is not in a package
    file copy -force NoPackageActor.java.in NoPackageActor.java
    exec make NoPackageActor.class

    set parser [java::new ptolemy.moml.MoMLParser]
    $parser reset
    # The list of filters is static, so we reset it in case there
    # filters were already added.
    java::call ptolemy.moml.MoMLParser setMoMLFilters [java::null]
    java::call ptolemy.moml.MoMLParser addMoMLFilters  [java::call ptolemy.moml.filter.BackwardCompatibility allFilters]

    java::call ptolemy.moml.MoMLParser addMoMLFilter [java::new  ptolemy.moml.filter.RemoveGraphicalClasses]
    set toplevel [$parser parseFile "NoPackageActors.xml"]
    set compositeEntity [java::cast ptolemy.kernel.CompositeEntity $toplevel]

    # Remove the .java file so that Eclipse does not complain
    file delete -force NoPackageActor.java

    # Success is reading the file
    list  [[$compositeEntity getEntity {NoPackageActor}] getFullName]  [[$compositeEntity getEntity {NoPackageActor2}] getFullName]

==== Test generated error:
../../../mk/ptII.mk:245: *** unterminated variable reference.  Stop.
    while executing
"exec make NoPackageActor.class"
    ("uplevel" body line 7)
    invoked from within
"uplevel $contents_of_test"
/home/travis/build/icyphy/ptII/ptolemy/moml/test/MoMLUndoChangeRequest.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/MoMLUndoEntry.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/MoMLVariableChecker.tcl
35 ms. Memory: 147456K Free: 80676K (55%)
/home/travis/build/icyphy/ptII/ptolemy/moml/test/ParserAttribute.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/StreamErrorHandler.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoContext.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoDeleteEntity.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoDeletePort.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoDeleteProperty.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoDeleteRelation.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoDoc.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoEntity.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoLink.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoPort.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoProperty.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoRelation.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoRename.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoUnlink.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/UndoVertex.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/Vertex.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/_aJVMBug.tcl
/home/travis/build/icyphy/ptII/ptolemy/moml/test/parseMoML.tcl
07/12/19 06:29:24
Failed: 1  Total Tests: 440  ((Passed: 438, Newly Passed: 0)  Known Failed: 1) /home/travis/build/icyphy/ptII/ptolemy/moml/test
No auto/knownFailedTests/*.xml tests in /home/travis/build/icyphy/ptII/ptolemy/moml/test
No auto/linux-amd64/*.xml tests in /home/travis/build/icyphy/ptII/ptolemy/moml/test
AutoTests.java: About to close Vertx.
AutoTests.java: Vertx closed.
No auto/*.xml tests in /home/travis/build/icyphy/ptII/ptolemy/moml/test
AutoTests.java: About to close Vertx.
AutoTests.java: Vertx closed.
</pre>
    </body>
</html>
