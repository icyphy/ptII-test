<html xmlns:string="xalan://java.lang.String" xmlns:lxslt="http://xml.apache.org/xslt">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Standard Output from JUnitTclTest</title>
</head>
<body>
<pre>/home/travis/build/icyphy/ptII/ptolemy/configs/test/allConfigs.tcl
testDefs.tcl: setting time out to 9000 seconds at Tue Jan 29 03:30:10 UTC 2019
1548732610398 ms. Memory: 116224K Free: 95256K (82%)
 Force everything to get expanded ptolemy/configs/bcvtb/configuration.xml
    (Skipping certain optional packages, jxta and viptos)
-------&gt; Before clone
-------&gt; after clone

Warning: In 'ptolemy.actor.lib.io.FileReader'
  The getName() method returns
   'fileOrURL' but the  field is named
   'fileOrURLPort'
   This is technically a violation  of the coding standard,
   but permissible because the name  ends in 'Port'
-------&gt; Before clone
-------&gt; after clone
1548732623539 ms. Memory: 743424K Free: 171832K (23%)
Setting containers of atomic entities to null
1548732624028 ms. Memory: 765440K Free: 694664K (91%)
 Force everything to get expanded ptolemy/configs/ptiny/configuration.xml
    (Skipping certain optional packages, jxta and viptos)
-------&gt; Before clone
-------&gt; after clone

Warning: In 'ptolemy.actor.lib.io.FileReader'
  The getName() method returns
   'fileOrURL' but the  field is named
   'fileOrURLPort'
   This is technically a violation  of the coding standard,
   but permissible because the name  ends in 'Port'
-------&gt; Before clone
-------&gt; after clone
1548732635797 ms. Memory: 1110016K Free: 666410K (60%)
Setting containers of atomic entities to null
1548732636532 ms. Memory: 1118720K Free: 995279K (89%)
 Force everything to get expanded ptolemy/configs/space/configuration.xml
    (Skipping certain optional packages, jxta and viptos)
-------&gt; Before clone
-------&gt; after clone
Warning: space/configuration.xml has no 'actor library.Directors'? (this is ok for dsp, viptos)
-------&gt; Before clone
-------&gt; after clone
1548732636735 ms. Memory: 1118720K Free: 919476K (82%)
Setting containers of atomic entities to null
1548732637162 ms. Memory: 1118720K Free: 996223K (89%)
 Force everything to get expanded ptolemy/configs/dsp/configuration.xml
    (Skipping certain optional packages, jxta and viptos)
-------&gt; Before clone
-------&gt; after clone

Warning: In 'ptolemy.actor.lib.io.FileReader'
  The getName() method returns
   'fileOrURL' but the  field is named
   'fileOrURLPort'
   This is technically a violation  of the coding standard,
   but permissible because the name  ends in 'Port'
Warning: dsp/configuration.xml has no 'actor library.Directors'? (this is ok for dsp, viptos)
-------&gt; Before clone
-------&gt; after clone
1548732641106 ms. Memory: 1266688K Free: 988145K (78%)
Setting containers of atomic entities to null
1548732641668 ms. Memory: 1278464K Free: 1134803K (89%)
Skipping viptos/configuration.xml, PtinyOS is not typically installed.
 Force everything to get expanded ptolemy/configs/pn/configuration.xml
    (Skipping certain optional packages, jxta and viptos)
-------&gt; Before clone
-------&gt; after clone

Warning: In 'ptolemy.actor.lib.io.FileReader'
  The getName() method returns
   'fileOrURL' but the  field is named
   'fileOrURLPort'
   This is technically a violation  of the coding standard,
   but permissible because the name  ends in 'Port'
Warning: pn/configuration.xml has no 'actor library.Directors'? (this is ok for dsp, viptos)
-------&gt; Before clone
-------&gt; after clone
1548732647188 ms. Memory: 1383424K Free: 820240K (59%)
Setting containers of atomic entities to null
1548732647776 ms. Memory: 1488896K Free: 1316142K (88%)
 Force everything to get expanded ptolemy/configs/ptdb/configuration.xml
    (Skipping certain optional packages, jxta and viptos)
/home/travis/build/icyphy/ptII/ptolemy/configs/test/allDemos.tcl
Skipping allDemos-1.0, use cd /home/travis/build/icyphy/ptII/ptolemy/configs/test/../../..; ant test.single -Dtest.name=ptolemy.vergil.basic.export.test.junit.ExportModelJUnitTest
/home/travis/build/icyphy/ptII/ptolemy/configs/test/checkFullConstraints.tcl
FIXME FIXME FIXME FIXME FIXME FIXME
ptolemy/configs/test/checkFullConstraints.tcl: FIXME: Invoking Configuration.check() 
results in a memory leak that consumes
more than 4gig of memory and causes problems under Travis.
so, we check the constraints only of the full configuration.
FIXME FIXME FIXME FIXME FIXME FIXME
 Force everything to get expanded ptolemy/configs/configurationFile
    (Skipping certain optional packages, jxta and viptos)
JSAccessor: PT_NO_NET environment variable is set, so git pull and ptdoc are not being run.
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/audio/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/cameras/index.json
No physical cameras found, using WebcamDummyDriver.
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/dashboard/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/devices/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/image/index.json
CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/net/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/robotics/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/geodesy/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/services/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/signals/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/test/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/utilities/index.json
The Mutable accessor original file has no documentation, so we are not running jsdoc on https://accessors.org/utilities/Mutable.js
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/audio/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/cameras/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/dashboard/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/devices/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/image/index.json
CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/net/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/robotics/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/geodesy/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/services/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/signals/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/test/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/utilities/index.json
The Mutable accessor original file has no documentation, so we are not running jsdoc on https://accessors.org/utilities/Mutable.js
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/audio/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/cameras/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/dashboard/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/devices/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/image/index.json
CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/net/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/robotics/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/geodesy/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/services/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/signals/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/test/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/utilities/index.json
The Mutable accessor original file has no documentation, so we are not running jsdoc on https://accessors.org/utilities/Mutable.js
####################################################################################################################################################################################################################################################################################################################################################Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/index.json
Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/audio/index.json
###Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/cameras/index.json
##Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/dashboard/index.json
########Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/devices/index.json
#######Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/image/index.json
CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
########Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/net/index.json
#####################Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/robotics/index.json
######Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/geodesy/index.json
###Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/services/index.json
###############Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/signals/index.json
#Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/test/index.json
################Retrieving library from file:/home/travis/build/icyphy/ptII/org/terraswarm/accessor/accessors/web/utilities/index.json
The Mutable accessor original file has no documentation, so we are not running jsdoc on https://accessors.org/utilities/Mutable.js
####################################################################################################################################################################################################################################################################################---- Second call to Configuration.check
#########################################################################################################################################################################################################################################################################################################################################################################CharacterRecognition: The tesseract module was not present.  The CharacterRecognition accessor is not supported on this accessor host. (Thread[main,5,main])
#########################################################################################################################################################################################################################################################################################################################################################1548732980683 ms. Memory: 3679232K Free: 1303226K (35%)
Setting containers of atomic entities to null
checkFullConstraints.tcl done!
/home/travis/build/icyphy/ptII/ptolemy/configs/test/cloneTest.tcl
Simple standalone clone test
The constraints of the master:
  1. (TypeConstant, arrayType(double,2)) &lt;= (variable .Top.Map.origin: arrayType(double))
  2. (TypeConstant, double) &lt;= (variable .Top.Map.resolution: double)
  3. (TypeConstant, {grid = arrayType(int,2), height = int, width = int}) &lt;= (variable .Top.Map.map: {grid = arrayType(int), height = int, width = int})
  4. (port .Top.Map.map: unknown) &lt;= (variable .Top.Map.map: {grid = arrayType(int), height = int, width = int})
  5. (variable .Top.Map.map: {grid = arrayType(int), height = int, width = int}) &lt;= (port .Top.Map.map: unknown)
The constraints of the clone:
  1. (TypeConstant, arrayType(double,2)) &lt;= (variable .Top.Map.origin: arrayType(double))
  2. (TypeConstant, double) &lt;= (variable .Top.Map.resolution: double)
  3. (TypeConstant, {grid = arrayType(int,2), height = int, width = int}) &lt;= (variable .Top.Map.map: {grid = arrayType(int), height = int, width = int})
  4. (port .Top.Map.map: unknown) &lt;= (variable .Top.Map.map: {grid = arrayType(int), height = int, width = int})
  5. (variable .Top.Map.map: {grid = arrayType(int), height = int, width = int}) &lt;= (port .Top.Map.map: unknown)
Congrats, the constraints are the same.
/home/travis/build/icyphy/ptII/ptolemy/configs/test/configTest.tcl
Checking file:/home/travis/build/icyphy/ptII/ptolemy/configs/ptdb/configuration.xml
/home/travis/build/icyphy/ptII/ptolemy/configs/test/configurationTools.tcl
/home/travis/build/icyphy/ptII/ptolemy/configs/test/missingDemos.tcl
Updating /home/travis/build/icyphy/ptII/ptolemy/configs/test/../../../ptolemy/configs/doc/models.txt.  This could take a minute.
Done updating /home/travis/build/icyphy/ptII/ptolemy/configs/test/../../../ptolemy/configs/doc/models.txt
Stderr for 'make -C ../doc missingDemos' was
--start--

--end--
Stderr for '/home/travis/build/icyphy/ptII/ptolemy/configs/test/../../../ptolemy/configs/test/missingDemos' was
--start--
The org/terraswarm/accessor/accessors/web/userInterface/dashboard/src/assets/demo directory is not found in completeDemo.htm
    &lt;!-- ../../../org/terraswarm/accessor/accessors/web/userInterface/dashboard/src/assets/demo --&gt;
org/hlacerti/demo/BilliardJS/BilliardJS.xml is not present
org/hlacerti/demo/BilliardJS/BilliardJS.xml is not present in completeDemos.htm.  Check for jar files in org/hlacerti/demo/BilliardJS
org/hlacerti/demo/Fleet/Fleet.xml is not present in completeDemos.htm.  Check for jar files in org/hlacerti/demo/Fleet
org/terraswarm/accessor/demo/ConnectedCar/ConnectedCar.xml is not present in completeDemos.htm.  Check for jar files in org/terraswarm/accessor/demo/ConnectedCar
org/terraswarm/accessor/demo/IndoorLocationAwareDiscovery/IndoorLocationAwareDiscovery.xml is not present in completeDemos.htm.  Check for jar files in org/terraswarm/accessor/demo/IndoorLocationAwareDiscovery
org/terraswarm/accessor/demo/DynamicTopologyUpdate/DynamicTopologyUpdate.xml is not present in completeDemos.htm.  Check for jar files in org/terraswarm/accessor/demo/DynamicTopologyUpdate
--end--


==== $PTII/ptolemy/configs/test/missingDemos.tcl: missingDemos-2.0 Run the missingDemos script.
==== Contents of test case:

    jdkCaptureOutAndErr {
	# In the installer, missingDemos might not be executable.
	exec chmod a+x $PTII/ptolemy/configs/test/missingDemos
        exec $PTII/ptolemy/configs/test/missingDemos
    } out err
    puts "Stderr for '$PTII/ptolemy/configs/test/missingDemos' was\n--start--\n$err\n--end--"
    regsub -all {make: [^']*'} $err {} err2
    list $out $err2

==== Result was:
{} {The org/terraswarm/accessor/accessors/web/userInterface/dashboard/src/assets/demo directory is not found in completeDemo.htm
    &lt;!-- ../../../org/terraswarm/accessor/accessors/web/userInterface/dashboard/src/assets/demo --&gt;
org/hlacerti/demo/BilliardJS/BilliardJS.xml is not present
org/hlacerti/demo/BilliardJS/BilliardJS.xml is not present in completeDemos.htm.  Check for jar files in org/hlacerti/demo/BilliardJS
org/hlacerti/demo/Fleet/Fleet.xml is not present in completeDemos.htm.  Check for jar files in org/hlacerti/demo/Fleet
org/terraswarm/accessor/demo/ConnectedCar/ConnectedCar.xml is not present in completeDemos.htm.  Check for jar files in org/terraswarm/accessor/demo/ConnectedCar
org/terraswarm/accessor/demo/IndoorLocationAwareDiscovery/IndoorLocationAwareDiscovery.xml is not present in completeDemos.htm.  Check for jar files in org/terraswarm/accessor/demo/IndoorLocationAwareDiscovery
org/terraswarm/accessor/demo/DynamicTopologyUpdate/DynamicTopologyUpdate.xml is not present in completeDemos.htm.  Check for jar files in org/terraswarm/accessor/demo/DynamicTopologyUpdate}
---- Result should have been:
{} {}
---- missingDemos-2.0 FAILED
/home/travis/build/icyphy/ptII/ptolemy/configs/test/validDemos.tcl
Validating the xml in /auto/ xml files after removing the configure blocks
...................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................Checked 2915 demos from configs/doc/models.txt
Validating the xml in demo xml files after removing the configure blocks
.........................................................
 Error parsing line 50, uri file:///tmp/validDemos8668744615630679151.xml
   An invalid XML character (Unicode: 0x19) was found in the value of attribute "value" and element is "property".
Could not parse /home/travis/build/icyphy/ptII/ptolemy/configs/test/../../../org/terraswarm/accessor/demo/SemanticRepository/Authentication.xml, file /tmp/validDemos8668744615630679151.xml was
&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd"&gt;
&lt;entity name="Authentication" class="ptolemy.actor.TypedCompositeActor"&gt;
    &lt;property name="_createdBy" class="ptolemy.kernel.attributes.VersionAttribute" value="11.1.devel"&gt;
    &lt;/property&gt;
    &lt;property name="DE Director" class="ptolemy.domains.de.kernel.DEDirector"&gt;
        &lt;property name="stopWhenQueueIsEmpty" class="ptolemy.data.expr.Parameter" value="false"&gt;
        &lt;/property&gt;
        &lt;property name="synchronizeToRealTime" class="ptolemy.data.expr.Parameter" value="true"&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="68.0, 32.0"&gt;
        &lt;/property&gt;
    &lt;/property&gt;
    &lt;property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={353, 91, 1038, 727}, maximized=false}"&gt;
    &lt;/property&gt;
    &lt;property name="_vergilSize" class="ptolemy.actor.gui.SizeAttribute" value="[804, 617]"&gt;
    &lt;/property&gt;
    &lt;property name="_vergilZoomFactor" class="ptolemy.data.expr.ExpertParameter" value="0.40960000000000135"&gt;
    &lt;/property&gt;
    &lt;property name="_vergilCenter" class="ptolemy.data.expr.ExpertParameter" value="{876.6046057412792, 724.561773255814}"&gt;
    &lt;/property&gt;
    &lt;property name="Annotation" class="ptolemy.vergil.kernel.attributes.TextAttribute"&gt;
        &lt;property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}"&gt;
        &lt;/property&gt;
        &lt;property name="text" class="ptolemy.kernel.util.StringAttribute" value="There are 3 main steps in setting up authentication:&amp;#10;1) Turning on GraphDB security&amp;#10;2) Configuring GraphDB's REST server for HTTPS&amp;#10;3) Managing the HTTPS certificate&amp;#10;4) Select appropriate accessor parameters: protocol = https and authenticate = true&amp;#10;&amp;#10;When these have been accomplished the model below should execute without error."&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[215.0, -5.0]"&gt;
        &lt;/property&gt;
    &lt;/property&gt;
    &lt;property name="Annotation2" class="ptolemy.vergil.kernel.attributes.TextAttribute"&gt;
        &lt;property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}"&gt;
        &lt;/property&gt;
        &lt;property name="text" class="ptolemy.kernel.util.StringAttribute" value="1) Turning on graphDB security&amp;#10;&amp;#10;Log on to GraphDB's control panel and go to Setup/Users and Access.&amp;#10;The security slider in the upper right hand corner defaults to &amp;quot;off&amp;quot;.&amp;#10;Switch it to on, and log back in with the admin username/password&amp;#10;(defaults to &amp;quot;admin&amp;quot; and &amp;quot;root&amp;quot;). For more information, check out&amp;#10;http://graphdb.ontotext.com/documentation/8.5/free/access-rights-and-security.html."&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 395.0]"&gt;
        &lt;/property&gt;
    &lt;/property&gt;
    &lt;property name="Annotation3" class="ptolemy.vergil.kernel.attributes.TextAttribute"&gt;
        &lt;property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}"&gt;
        &lt;/property&gt;
        &lt;property name="text" class="ptolemy.kernel.util.StringAttribute" value="2) Configuring GraphDB's REST server for HTTPS&amp;#10;&amp;#10;GraphDB's authentication modes are detailed at &amp;#10;http://graphdb.ontotext.com/documentation/standard/authentication.html.&amp;#10;These accessors use the Basic Authentication mode at the bottom of the page,&amp;#10;where username and password are sent as a header. As such a header&amp;#10;is sent in plain text over http, we must enable https (note other authentication modes&amp;#10;also require https to avoid replay attacks). Note the documentation&amp;#10;is incorrect. Username password combos are base64 encodings of strings of the&amp;#10;form &amp;lt;username&amp;gt;:&amp;lt;password&amp;gt;, not of the form &amp;lt;username&amp;gt;/&amp;lt;password&amp;gt;.&amp;#10;&amp;#10;Steps for turning on encryption are given at&amp;#10;http://graphdb.ontotext.com/documentation/standard/encryption.html.&amp;#10;The key point is &amp;quot;GraphDB runs on [sic] embedded Tomcat server&amp;quot; which &amp;#10;can be indirectly configured through a graphdb.properties file. &amp;#10;Documentation on this properties file is at&amp;#10;http://graphdb.ontotext.com/documentation/free/configuring-graphdb.html.&amp;#10;Crucialy, properties of the relevant Tomcat Connector attribute can be set by&amp;#10;setting a value for a graphDB attribute &amp;quot;graphdb.connector.&amp;quot; + the relevant &amp;#10;Tomcat Connector attribute.&amp;#10;&amp;#10;The graphdb.properties file should have the name &amp;quot;graphdb.properties&amp;quot; and&amp;#10;be located in the distribution under conf/graphdb.properties. On my Mac,&amp;#10;the path is ~/Library/ApplicationSupport/GraphDB/conf/graphdb.properties.&amp;#10;An example graphdb.properties is in this SemanticRepository demo directory. &amp;#10;To use the example you will have to replace the section&amp;#10;&amp;lt;INSERT YOUR PATH TO KEYSTORE HERE!&amp;gt; with the actual path to your keystore&amp;#10;(more on this later)&amp;#10;&amp;#10;We now refer to the apache Tomcat documenation on how to set a Tomcat server's&amp;#10;attributes for encryption. See&amp;#10;https://tomcat.apache.org/tomcat-7.0-doc/ssl-howto.html#Edit_the_Tomcat_Configuration_File,&amp;#10;but be warned in my experience variables like ${user.home} are not correctly passed&amp;#10;through graphdb.connector. to the Tomcat configuration."&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[115.0, 550.0]"&gt;
        &lt;/property&gt;
    &lt;/property&gt;
    &lt;property name="Annotation4" class="ptolemy.vergil.kernel.attributes.TextAttribute"&gt;
        &lt;property name="textColor" class="ptolemy.actor.gui.ColorAttribute" value="{0.0, 0.0, 0.0, 1.0}"&gt;
        &lt;/property&gt;
        &lt;property name="text" class="ptolemy.kernel.util.StringAttribute" value="3) Managing the HTTPS certificate&amp;#10;&amp;#10;Finally, we must generate a certificate for GraphDB, link the certificate&amp;#10;to the configuration in section (2), and inform the swarmlet host's keystore&amp;#10;to trust the certificate if it is self-signed (as in these instructions).&amp;#10;If a certificate is obtained from a certificate authority some of these instructions&amp;#10;may likely be skipable.&amp;#10;&amp;#10;First, generate a self signed certificate. See&amp;#10;https://www.sslshopper.com/article-most-common-java-keytool-keystore-commands.html.&amp;#10;Run:&amp;#10;&amp;#10;$keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass changeit -validity 360 -keysize 2048&amp;#10; &amp;#10;to generate a keystore named &amp;quot;keystore.jks&amp;quot; with the password &amp;quot;changeit&amp;quot;.&amp;#10;Note this password is consistent with the example graphdb.properties file and you'll&amp;#10;have to change the file if you change the password.&amp;#10;IMPORTANT! Be sure to correctly enter the server name&amp;#10;&amp;quot;localhost&amp;quot; in response to keytools first prompt (assuming that is you are running&amp;#10;on localhost) when it asks &amp;quot;What is your first and last name?&amp;quot; Otherwise this won't work.&amp;#10;&amp;#10;Next, you'll need to export the public key certificate from keystore.jks.&amp;#10;See https://docs.oracle.com/javase/tutorial/security/toolsign/step5.html.&amp;#10;Run:&amp;#10;&amp;#10;$keytool -export -keystore keystore.jks -alias selfsigned -file selfsigned.cer&amp;#10;&amp;#10;to generate the file selfsigned.cer. It is important to remember the alias &amp;quot;selfsigned&amp;quot;&amp;#10;(incidentally the same name as the file, but it doesn't have to be) because we will use&amp;#10;it to add or remove the certificate from our swarmlet host's keystore. If you are running&amp;#10;on the Nashron host, as I am for these instructions, your keystore will be located at&amp;#10;JAVA_HOME/JRE/lib/security/cacerts. If you don't know where JAVA_HOME is on your&amp;#10;machine, run&amp;#10;&amp;#10;$/usr/libexec/java_home -v 1.8&amp;#10;&amp;#10;For me this is: /Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home/jre/lib/security/cacerts.&amp;#10;For more information see&amp;#10;https://stackoverflow.com/questions/8980364/how-do-i-find-out-what-keystore-my-jvm-is-using.&amp;#10;&amp;#10;Finally, we add the self-signed certificate to the swarmlet host's keystore.&amp;#10;See https://stackoverflow.com/questions/2893819/accept-servers-self-signed-ssl-certificate-in-java-client.&amp;#10;Run:&amp;#10;&amp;#10;sudo keytool -import -v -trustcacerts -alias selfsigned -file selfsigned.cer -keystore &amp;lt;INSERT PATH TO YOUR HOST KEYSTORE&amp;gt; -keypass changeit -storepass changeit&amp;#10;&amp;#10;Again, for me I replace &amp;lt;INSERT PATH TO YOUR HOST KEYSTORE&amp;gt; with&amp;#10;/Library/Java/JavaVirtualMachines/jdk1.8.0_121.jdk/Contents/Home/jre/lib/security/cacerts.&amp;#10;&amp;#10;That's it! Now your accessors should be able to connect to GraphDB over https.&amp;#10;&amp;#10;If something went wrong in this process and you want to remove a certificate from &amp;#10;your host's keystore. See https://docs.oracle.com/cd/E19798-01/821-1751/ghleq/index.html&amp;#10;Run:&amp;#10;&amp;#10;sudo keytool -delete -alias selfsigned -keystore &amp;lt;INSERT PATH TO YOUR HOST KEYSTORE&amp;gt; -storepass changeit&amp;#10;&amp;#10;This is where the alias is important. Be sure not to remove the wrong certificate!"&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="{815.0, 400.0}"&gt;
        &lt;/property&gt;
    &lt;/property&gt;
    &lt;entity name="SingleEvent" class="ptolemy.actor.lib.SingleEvent"&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 190.0]"&gt;
        &lt;/property&gt;
    &lt;/entity&gt;
    &lt;entity name="StringConst" class="ptolemy.actor.lib.StringConst"&gt;
        &lt;property name="value" class="ptolemy.data.expr.Parameter" value="SELECT * WHERE {?s ?p ?o} LIMIT 10"&gt;
        &lt;/property&gt;
        &lt;doc&gt;Create a constant sequence with a string value.&lt;/doc&gt;
        &lt;property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon"&gt;
            &lt;property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value"&gt;
            &lt;/property&gt;
            &lt;property name="displayWidth" class="ptolemy.data.expr.Parameter" value="80"&gt;
            &lt;/property&gt;
            &lt;property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[345.0, 190.0]"&gt;
        &lt;/property&gt;
    &lt;/entity&gt;
    &lt;entity name="TextDisplay" class="org.terraswarm.accessor.JSAccessor"&gt;
        &lt;property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={251, 175, 542, 676}, maximized=false}"&gt;
        &lt;/property&gt;
        &lt;property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[542, 632]"&gt;
        &lt;/property&gt;
        &lt;property name="script" class="ptolemy.actor.parameters.PortParameter" value="// Display text.&amp;#10;//&amp;#10;// Copyright (c) 2017 The Regents of the University of California.&amp;#10;// All rights reserved.&amp;#10;//&amp;#10;// Permission is hereby granted, without written agreement and without&amp;#10;// license or royalty fees, to use, copy, modify, and distribute this&amp;#10;// software and its documentation for any purpose, provided that the above&amp;#10;// copyright notice and the following two paragraphs appear in all copies&amp;#10;// of this software.&amp;#10;//&amp;#10;// IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY&amp;#10;// FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES&amp;#10;// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF&amp;#10;// THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF&amp;#10;// SUCH DAMAGE.&amp;#10;//&amp;#10;// THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES,&amp;#10;// INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF&amp;#10;// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE&amp;#10;// PROVIDED HEREUNDER IS ON AN &amp;quot;AS IS&amp;quot; BASIS, AND THE UNIVERSITY OF&amp;#10;// CALIFORNIA HAS NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES,&amp;#10;// ENHANCEMENTS, OR MODIFICATIONS.&amp;#10;//&amp;#10;&amp;#10;/** Display data using util.inspect() to render a more human-readable form.&amp;#10; *  Any data accepted by util.inspect() can be displayed.&amp;#10; *  The title may be used by the host to label the output in some way, either&amp;#10; *  by labeling a display window or prepending the printed text with the title.&amp;#10; *  The resulting text is passed through to the output in case a model wishes to ensure&amp;#10; *  that the image has been displayed before something else happens or the model&amp;#10; *  wishes to use the rendered text in some way.&amp;#10; *&amp;#10; *  @accessor utilities/TextDisplay&amp;#10; *  @input input The text to display.&amp;#10; *  @output output The text to display.&amp;#10; *  @author Edward A. Lee&amp;#10; *  @version $$Id$$&amp;#10; */&amp;#10;&amp;#10;// Stop extra messages from jslint.  Note that there should be no&amp;#10;// space between the / and the * and global.&amp;#10;/*globals console, error, exports, require */&amp;#10;/*jshint globalstrict: true*/&amp;#10;&amp;quot;use strict&amp;quot;;&amp;#10;&amp;#10;var textDisplay = require('@accessors-modules/text-display');&amp;#10;var util = require('util');&amp;#10;var display = null;&amp;#10;&amp;#10;exports.setup = function () {&amp;#10;    this.input('input');&amp;#10;    this.output('output', {'type':'string'});&amp;#10;    this.parameter('title', {&amp;#10;        'type':'string',&amp;#10;        'value':'TextDisplay'&amp;#10;    });&amp;#10;};&amp;#10;&amp;#10;exports.initialize = function () {&amp;#10;    var self = this;&amp;#10;    &amp;#10;    if (display === null) {&amp;#10;        display = new textDisplay.TextDisplay(this.getParameter('title'));&amp;#10;    }&amp;#10;&amp;#10;    this.addInputHandler('input', function () {&amp;#10;        var inputValue = self.get('input');&amp;#10;        if (typeof inputValue == &amp;quot;string&amp;quot;) {&amp;#10;        	// Attempt to parse JSON.&amp;#10;        	try {&amp;#10;        		var parsed = JSON.parse(inputValue);&amp;#10;        		// If it succeeded, replace.&amp;#10;        		inputValue = parsed;&amp;#10;        	} catch(err) {&amp;#10;        		// Ignore and proceed.&amp;#10;        	}&amp;#10;        }&amp;#10;        // The null argument is an undocumented feature indicating unbounded depth.&amp;#10;        var text = util.inspect(inputValue, {depth: null});&amp;#10;        display.appendText(text);&amp;#10;        this.send('output', text);&amp;#10;    });&amp;#10;};&amp;#10;"&gt;
            &lt;property name="style" class="ptolemy.actor.gui.style.NoteStyle"&gt;
                &lt;property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor"&gt;
                &lt;/property&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="accessorSource" class="org.terraswarm.accessor.JSAccessor$ActionableAttribute" value="https://accessors.org/utilities/TextDisplay.js"&gt;
        &lt;/property&gt;
        &lt;property name="documentation" class="ptolemy.vergil.basic.DocAttribute"&gt;
            &lt;property name="description" class="ptolemy.kernel.util.StringAttribute" value="&amp;lt;p&amp;gt;Display data using util.inspect() to render a more human-readable form.&amp;#10; Any data accepted by util.inspect() can be displayed.&amp;#10; The title may be used by the host to label the output in some way, either&amp;#10; by labeling a display window or prepending the printed text with the title.&amp;#10; The resulting text is passed through to the output in case a model wishes to ensure&amp;#10; that the image has been displayed before something else happens or the model&amp;#10; wishes to use the rendered text in some way.&amp;lt;/p&amp;gt;"&gt;
            &lt;/property&gt;
            &lt;property name="author" class="ptolemy.kernel.util.StringAttribute" value="Edward A. Lee"&gt;
            &lt;/property&gt;
            &lt;property name="version" class="ptolemy.kernel.util.StringAttribute" value="$$Id$$"&gt;
            &lt;/property&gt;
            &lt;property name="input (port)" class="ptolemy.kernel.util.StringAttribute" value="The text to display."&gt;
            &lt;/property&gt;
            &lt;property name="output (port)" class="ptolemy.kernel.util.StringAttribute" value="The text to display."&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory"&gt;
            &lt;property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script"&gt;
            &lt;/property&gt;
            &lt;property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="title" class="ptolemy.data.expr.Parameter" value="TextDisplay"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[765.0, 190.0]"&gt;
        &lt;/property&gt;
        &lt;port name="input" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="input"/&gt;
        &lt;/port&gt;
        &lt;port name="output" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="output"/&gt;
        &lt;/port&gt;
    &lt;/entity&gt;
    &lt;entity name="SemanticRepositoryQuery" class="org.terraswarm.accessor.JSAccessor"&gt;
        &lt;property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute"&gt;
        &lt;/property&gt;
        &lt;property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute"&gt;
        &lt;/property&gt;
        &lt;property name="script" class="ptolemy.actor.parameters.PortParameter" value="/** Perform a SPARQL query on a semantic repository such as GraphDB.&amp;#10; * &amp;#10; *  SPARQL is a W3C standard for querying semantic repositories,&amp;#10; *  playing an analogous role to SQL with respect to relational&amp;#10; *  databases. Semantic repositories fall within the domain of knowledge&amp;#10; *  representation in AI and typically are implemented as a triplestore:&amp;#10; *  entries in the repository have the form &amp;quot;subject&amp;quot;, &amp;quot;predicate&amp;quot;, &amp;quot;object&amp;quot;&amp;#10; *  eg. &amp;quot;An Apple&amp;quot; &amp;quot;IsA&amp;quot; &amp;quot;Fruit&amp;quot;&amp;#10; *  &amp;#10; *  An example SPARQL query to get a list of up to 100 triples in the repository:&amp;#10; *&amp;#10; *  select * where { &amp;#10; *      ?s ?p ?o .&amp;#10; *  } limit 100&amp;#10; *&amp;#10; *  Documentation for SPARQL and the SPARQL Protocol can be found at&amp;#10; *  https://www.w3.org/TR/rdf-sparql-query/&amp;#10; *&amp;#10; *  Information on GraphDB can be found at&amp;#10; *  http://graphdb.ontotext.com/&amp;#10; *  &amp;#10; *  SPARQL is also a protocol for communicating with RDF databases&amp;#10; *  Upon receiving a query input, this accessor performs an http GET&amp;#10; *  to the specified server and port with the querystring &amp;quot;query&amp;quot; set to the&amp;#10; *  query input. The JSON response from the semantic repository (if any) is &amp;#10; *  sent to the response output. Depending on the query type, the &amp;#10; *  response will be JSON &amp;quot;sparql-results&amp;quot; or &amp;quot;rdf+json&amp;quot;&amp;#10; *&amp;#10; *  This accessor does not block waiting for the response, but if any additional&amp;#10; *  *query* input is received before a pending request has received a response&amp;#10; *  or timed out, then the new request will be queued and sent out only after&amp;#10; *  the pending request has completed. This strategy ensures that outputs are&amp;#10; *  produced in the same order as the input requests.&amp;#10; *&amp;#10; *  @accessor services/SemanticRepositoryQuery&amp;#10; *  @author Matt Weber&amp;#10; *  @version $$Id: SemanticRepository.js 1725 2017-05-19 22:59:11Z cxh $$&amp;#10; *  @input {string} query The SPARQL query to be sent to the semantic repository.&amp;#10; *   Types of queries yielding a response are: SELECT, CONSTRUCT, ASK, and DESCRIBE&amp;#10; *  @parameter {string} protocol Either http or https.&amp;#10; *  @parameter {string} host The URL for the semantic repository.&amp;#10; *  @parameter {string} port The port for the semantic repository.&amp;#10; *  @parameter {string} repositoryName The name of the particular repository on the host.&amp;#10; *  @parameter {boolean} authenticate If true, enable authentication to an access controlled&amp;#10; *   semantic repository by sending username and password with request. If false, username &amp;#10; *   and password information will not be sent. An error will occur if the http protocol is&amp;#10; *   selected with a true authenticate setting to avoid sending username/password information&amp;#10; *   in plain text.&amp;#10; *  @parameter {string} username A username for an access controlled semantic repository. &amp;#10; *  @parameter {string} password A password for an access controlled semantic repository.&amp;#10; *  @parameter {int} timeout The amount of time (in milliseconds) to wait for a response&amp;#10; *   before triggering a null response and an error. This defaults to 20000.&amp;#10; *  @output response An object containing the raw response from the service conforming&amp;#10; *   to the SPARQL protocol. If the query type was SELECT or ASK the response will be&amp;#10; *   JSON &amp;quot;sparql-results&amp;quot;. If the query type was CONSTRUCT or DESCRIBE the response&amp;#10; *   will be &amp;quot;rdf+json&amp;quot;.&amp;#10; */&amp;#10;&amp;#10;&amp;#10;// Stop extra messages from jslint and jshint.  Note that there should&amp;#10;// be no space between the / and the * and global. See&amp;#10;// https://chess.eecs.berkeley.edu/ptexternal/wiki/Main/JSHint */&amp;#10;/*globals addInputHandler, addInputParameter, console, error, exports, extend, input, get, getParameter, getResource, output, parameter, send */&amp;#10;/*jshint globalstrict: true*/&amp;#10;'use strict';&amp;#10; &amp;#10; /** Set up the accessor by defining the inputs and outputs.&amp;#10; */&amp;#10;&amp;#10;var base64 = require('base64-js');&amp;#10;&amp;#10;exports.setup = function () {&amp;#10;    this.extend('net/REST');&amp;#10;    this.input('query', {&amp;#10;        'type': 'string'&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('protocol', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'http',&amp;#10;        'options': ['http', 'https']&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('host', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'localhost'&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('port', {&amp;#10;        'type': 'int',&amp;#10;        'value': 7200&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('repositoryName', {&amp;#10;        'type': 'string',&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('authenticate', {&amp;#10;        'type': 'boolean',&amp;#10;        'value': false&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('username', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'admin'&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('password', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'root'&amp;#10;    });&amp;#10;&amp;#10;    //Overriding inherited default timeout value of 5000ms to allow for longer queries by default&amp;#10;    this.parameter('timeout', {&amp;#10;        'type': 'int',&amp;#10;        'value': 20000&amp;#10;    });&amp;#10;&amp;#10;    //Use the response output from the REST accessor&amp;#10;&amp;#10;&amp;#10;    // Change default values of the base class inputs.&amp;#10;    // Also, hide base class inputs, except trigger.&amp;#10;    this.input('options', {&amp;#10;        'visibility': 'expert',&amp;#10;    });&amp;#10;    this.input('command', {&amp;#10;        'visibility': 'expert',&amp;#10;    });&amp;#10;    this.input('arguments', {&amp;#10;        'visibility': 'expert',&amp;#10;    });&amp;#10;    this.input('body', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;    this.input('trigger', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;    this.output('headers', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;    this.output('status', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;    this.parameter('outputCompleteResponseOnly', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;};&amp;#10;&amp;#10;//Overriding REST&amp;#10;exports.filterResponse = function(response){&amp;#10;    return JSON.parse(response);&amp;#10;};&amp;#10;&amp;#10;//Overriding REST&amp;#10;//Connections to the SemanticRepository should be closed once data has been received.&amp;#10;exports.handleResponse = function(message){&amp;#10;     exports.ssuper.handleResponse.call(this, message);&amp;#10;     exports.ssuper.wrapup();&amp;#10;};&amp;#10;&amp;#10;exports.initialize = function(){&amp;#10;    exports.ssuper.initialize.call(this);&amp;#10;    &amp;#10;    //Check for bad authentication and protocol settings at initialization.&amp;#10;    if(this.getParameter('protocol') == 'http' &amp;amp;&amp;amp; this.getParameter('authenticate') ){&amp;#10;        error(&amp;quot;Semantic Repository authentication setting incompatible with protocol setting. This accessor will not send username and password information in plain text over http. Change to https or dissable authentication.&amp;quot;);&amp;#10;    }&amp;#10;&amp;#10;    var thiz = this;&amp;#10;&amp;#10;    this.addInputHandler('query', function(){&amp;#10;&amp;#10;        //Check for bad authentication and protocol settings when preparing to send.&amp;#10;        if(thiz.getParameter('protocol') == 'http' &amp;amp;&amp;amp; thiz.getParameter('authenticate') ){&amp;#10;            error(&amp;quot;Semantic Repository authentication setting incompatible with protocol setting. This accessor will not send username and password information in plain text over http. Change to https or dissable authentication.&amp;quot;);&amp;#10;            return;&amp;#10;        }&amp;#10;&amp;#10;        var queryInput = thiz.get('query');&amp;#10;        var host = thiz.getParameter('host');&amp;#10;        var port = thiz.getParameter('port');&amp;#10;        var repositoryName = thiz.getParameter('repositoryName');&amp;#10;        var authenticate = thiz.getParameter('authenticate');&amp;#10;        var protocol = thiz.getParameter('protocol');&amp;#10;&amp;#10;        var options = {&amp;#10;            'headers' : {'Accept':'application/sparql-results+json, application/rdf+json'},&amp;#10;            'method'  : 'GET',&amp;#10;            'url'     : {'host'  : host,&amp;#10;                        'port'   : port,&amp;#10;                        'protocol' : protocol&amp;#10;                        }&amp;#10;        };&amp;#10;&amp;#10;        //If authenticating, add base64 encoded username and password to headers.&amp;#10;        //See basic authentication under http://graphdb.ontotext.com/documentation/standard/authentication.html&amp;#10;        if(authenticate &amp;amp;&amp;amp; protocol == 'https'){&amp;#10;            var username = thiz.getParameter('username');&amp;#10;            var password = thiz.getParameter('password');&amp;#10;&amp;#10;            //Note, contrary to the graphDB documentation, the separator between&amp;#10;            //username and password is a colon, not a forward slash.&amp;#10;            var login = username +&amp;quot;:&amp;quot; + password;&amp;#10;            var loginArray = login.split(&amp;quot;&amp;quot;);&amp;#10;            var loginNumeric = loginArray.map(function(x){ return x.charCodeAt(0)});&amp;#10;            var loginUint = new Uint8Array(loginNumeric);&amp;#10;            var login64 = base64.fromByteArray(loginUint);&amp;#10;            options.headers.Authorization =  'Basic ' + login64;&amp;#10;        }&amp;#10;&amp;#10;        var command = 'repositories/' + repositoryName;&amp;#10;        var args = {'query' : queryInput} ;&amp;#10;&amp;#10;        thiz.send('options', options);&amp;#10;        thiz.send('command', command);&amp;#10;        thiz.send('arguments', args);&amp;#10;        thiz.send('trigger', true);&amp;#10;    });&amp;#10;};&amp;#10;"&gt;
            &lt;property name="style" class="ptolemy.actor.gui.style.NoteStyle"&gt;
                &lt;property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor"&gt;
                &lt;/property&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="accessorSource" class="org.terraswarm.accessor.JSAccessor$ActionableAttribute" value="https://accessors.org/services/SemanticRepositoryQuery.js"&gt;
        &lt;/property&gt;
        &lt;property name="documentation" class="ptolemy.vergil.basic.DocAttribute"&gt;
            &lt;property name="description" class="ptolemy.kernel.util.StringAttribute" value="&amp;lt;p&amp;gt;Perform a SPARQL query on a semantic repository such as GraphDB.&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; SPARQL is a W3C standard for querying semantic repositories,&amp;#10; playing an analogous role to SQL with respect to relational&amp;#10; databases. Semantic repositories fall within the domain of knowledge&amp;#10; representation in AI and typically are implemented as a triplestore:&amp;#10; entries in the repository have the form &amp;amp;quot;subject&amp;amp;quot;, &amp;amp;quot;predicate&amp;amp;quot;, &amp;amp;quot;object&amp;amp;quot;&amp;#10; eg. &amp;amp;quot;An Apple&amp;amp;quot; &amp;amp;quot;IsA&amp;amp;quot; &amp;amp;quot;Fruit&amp;amp;quot;&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; An example SPARQL query to get a list of up to 100 triples in the repository:&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; select * where { &amp;#10;     ?s ?p ?o .&amp;#10; } limit 100&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; Documentation for SPARQL and the SPARQL Protocol can be found at&amp;#10; https://&amp;lt;a href=&amp;quot;http://www.w3.org/TR/rdf-sparql-query/&amp;quot;&amp;gt;www.w3.org/TR/rdf-sparql-query/&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; Information on GraphDB can be found at&amp;#10; http://graphdb.ontotext.com/&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; SPARQL is also a protocol for communicating with RDF databases&amp;#10; Upon receiving a query input, this accessor performs an http GET&amp;#10; to the specified server and port with the querystring &amp;amp;quot;query&amp;amp;quot; set to the&amp;#10; query input. The JSON response from the semantic repository (if any) is &amp;#10; sent to the response output. Depending on the query type, the &amp;#10; response will be JSON &amp;amp;quot;sparql-results&amp;amp;quot; or &amp;amp;quot;rdf+json&amp;amp;quot;&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; This accessor does not block waiting for the response, but if any additional&amp;#10; &amp;lt;em&amp;gt;query&amp;lt;/em&amp;gt; input is received before a pending request has received a response&amp;#10; or timed out, then the new request will be queued and sent out only after&amp;#10; the pending request has completed. This strategy ensures that outputs are&amp;#10; produced in the same order as the input requests.&amp;lt;/p&amp;gt;"&gt;
            &lt;/property&gt;
            &lt;property name="author" class="ptolemy.kernel.util.StringAttribute" value="Matt Weber"&gt;
            &lt;/property&gt;
            &lt;property name="version" class="ptolemy.kernel.util.StringAttribute" value="$$Id: SemanticRepository.js 1725 2017-05-19 22:59:11Z cxh $$"&gt;
            &lt;/property&gt;
            &lt;property name="query (port)" class="ptolemy.kernel.util.StringAttribute" value="The SPARQL query to be sent to the semantic repository.&amp;#10;  Types of queries yielding a response are: SELECT, CONSTRUCT, ASK, and DESCRIBE"&gt;
            &lt;/property&gt;
            &lt;property name="response (port)" class="ptolemy.kernel.util.StringAttribute" value="An object containing the raw response from the service conforming&amp;#10;  to the SPARQL protocol. If the query type was SELECT or ASK the response will be&amp;#10;  JSON &amp;quot;sparql-results&amp;quot;. If the query type was CONSTRUCT or DESCRIBE the response&amp;#10;  will be &amp;quot;rdf+json&amp;quot;."&gt;
            &lt;/property&gt;
            &lt;property name="protocol (parameter)" class="ptolemy.kernel.util.StringAttribute" value="Either http or https."&gt;
            &lt;/property&gt;
            &lt;property name="host (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The URL for the semantic repository."&gt;
            &lt;/property&gt;
            &lt;property name="port (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The port for the semantic repository."&gt;
            &lt;/property&gt;
            &lt;property name="repositoryName (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The name of the particular repository on the host."&gt;
            &lt;/property&gt;
            &lt;property name="authenticate (parameter)" class="ptolemy.kernel.util.StringAttribute" value="If true, enable authentication to an access controlled&amp;#10;  semantic repository by sending username and password with request. If false, username &amp;#10;  and password information will not be sent. An error will occur if the http protocol is&amp;#10;  selected with a true authenticate setting to avoid sending username/password information&amp;#10;  in plain text."&gt;
            &lt;/property&gt;
            &lt;property name="username (parameter)" class="ptolemy.kernel.util.StringAttribute" value="A username for an access controlled semantic repository."&gt;
            &lt;/property&gt;
            &lt;property name="password (parameter)" class="ptolemy.kernel.util.StringAttribute" value="A password for an access controlled semantic repository."&gt;
            &lt;/property&gt;
            &lt;property name="timeout (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The amount of time (in milliseconds) to wait for a response&amp;#10;  before triggering a null response and an error. This defaults to 20000."&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory"&gt;
            &lt;property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script"&gt;
            &lt;/property&gt;
            &lt;property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="options" class="ptolemy.actor.parameters.PortParameter" value=""&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
            &lt;property name="_JSON" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="command" class="ptolemy.actor.parameters.PortParameter" value=""&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="arguments" class="ptolemy.actor.parameters.PortParameter" value=""&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
            &lt;property name="_JSON" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="protocol" class="ptolemy.data.expr.Parameter" value="https"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="host" class="ptolemy.data.expr.Parameter" value="localhost"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="repositoryName" class="ptolemy.data.expr.Parameter" value="FirstRepo"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="username" class="ptolemy.data.expr.Parameter" value="admin"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="password" class="ptolemy.data.expr.Parameter" value="root"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[595.0, 190.0]"&gt;
        &lt;/property&gt;
        &lt;property name="authenticate" class="ptolemy.data.expr.Parameter" value="true"&gt;
        &lt;/property&gt;
        &lt;port name="options" class="ptolemy.actor.parameters.ParameterPort"&gt;
            &lt;property name="input"/&gt;
            &lt;property name="defaultValue" class="ptolemy.data.expr.Parameter"&gt;
            &lt;/property&gt;
            &lt;property name="_JSON" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/port&gt;
        &lt;port name="command" class="ptolemy.actor.parameters.ParameterPort"&gt;
            &lt;property name="input"/&gt;
            &lt;property name="defaultValue" class="ptolemy.data.expr.Parameter"&gt;
            &lt;/property&gt;
        &lt;/port&gt;
        &lt;port name="arguments" class="ptolemy.actor.parameters.ParameterPort"&gt;
            &lt;property name="input"/&gt;
            &lt;property name="defaultValue" class="ptolemy.data.expr.Parameter"&gt;
            &lt;/property&gt;
            &lt;property name="_JSON" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/port&gt;
        &lt;port name="trigger" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="input"/&gt;
        &lt;/port&gt;
        &lt;port name="body" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="input"/&gt;
        &lt;/port&gt;
        &lt;port name="response" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="output"/&gt;
        &lt;/port&gt;
        &lt;port name="status" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="output"/&gt;
        &lt;/port&gt;
        &lt;port name="headers" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="output"/&gt;
        &lt;/port&gt;
        &lt;port name="query" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="input"/&gt;
        &lt;/port&gt;
    &lt;/entity&gt;
    &lt;entity name="SingleEvent2" class="ptolemy.actor.lib.SingleEvent"&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[160.0, 325.0]"&gt;
        &lt;/property&gt;
    &lt;/entity&gt;
    &lt;entity name="TextDisplay2" class="org.terraswarm.accessor.JSAccessor"&gt;
        &lt;property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute" value="{bounds={765, 212, 499, 208}, maximized=false}"&gt;
        &lt;/property&gt;
        &lt;property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute" value="[499, 164]"&gt;
        &lt;/property&gt;
        &lt;property name="script" class="ptolemy.actor.parameters.PortParameter" value="// Display text.&amp;#10;//&amp;#10;// Copyright (c) 2017 The Regents of the University of California.&amp;#10;// All rights reserved.&amp;#10;//&amp;#10;// Permission is hereby granted, without written agreement and without&amp;#10;// license or royalty fees, to use, copy, modify, and distribute this&amp;#10;// software and its documentation for any purpose, provided that the above&amp;#10;// copyright notice and the following two paragraphs appear in all copies&amp;#10;// of this software.&amp;#10;//&amp;#10;// IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY&amp;#10;// FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES&amp;#10;// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF&amp;#10;// THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF&amp;#10;// SUCH DAMAGE.&amp;#10;//&amp;#10;// THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES,&amp;#10;// INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF&amp;#10;// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE&amp;#10;// PROVIDED HEREUNDER IS ON AN &amp;quot;AS IS&amp;quot; BASIS, AND THE UNIVERSITY OF&amp;#10;// CALIFORNIA HAS NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES,&amp;#10;// ENHANCEMENTS, OR MODIFICATIONS.&amp;#10;//&amp;#10;&amp;#10;/** Display data using util.inspect() to render a more human-readable form.&amp;#10; *  Any data accepted by util.inspect() can be displayed.&amp;#10; *  The title may be used by the host to label the output in some way, either&amp;#10; *  by labeling a display window or prepending the printed text with the title.&amp;#10; *  The resulting text is passed through to the output in case a model wishes to ensure&amp;#10; *  that the image has been displayed before something else happens or the model&amp;#10; *  wishes to use the rendered text in some way.&amp;#10; *&amp;#10; *  @accessor utilities/TextDisplay&amp;#10; *  @input input The text to display.&amp;#10; *  @output output The text to display.&amp;#10; *  @author Edward A. Lee&amp;#10; *  @version $$Id$$&amp;#10; */&amp;#10;&amp;#10;// Stop extra messages from jslint.  Note that there should be no&amp;#10;// space between the / and the * and global.&amp;#10;/*globals console, error, exports, require */&amp;#10;/*jshint globalstrict: true*/&amp;#10;&amp;quot;use strict&amp;quot;;&amp;#10;&amp;#10;var textDisplay = require('@accessors-modules/text-display');&amp;#10;var util = require('util');&amp;#10;var display = null;&amp;#10;&amp;#10;exports.setup = function () {&amp;#10;    this.input('input');&amp;#10;    this.output('output', {'type':'string'});&amp;#10;    this.parameter('title', {&amp;#10;        'type':'string',&amp;#10;        'value':'TextDisplay'&amp;#10;    });&amp;#10;};&amp;#10;&amp;#10;exports.initialize = function () {&amp;#10;    var self = this;&amp;#10;    &amp;#10;    if (display === null) {&amp;#10;        display = new textDisplay.TextDisplay(this.getParameter('title'));&amp;#10;    }&amp;#10;&amp;#10;    this.addInputHandler('input', function () {&amp;#10;        var inputValue = self.get('input');&amp;#10;        if (typeof inputValue == &amp;quot;string&amp;quot;) {&amp;#10;        	// Attempt to parse JSON.&amp;#10;        	try {&amp;#10;        		var parsed = JSON.parse(inputValue);&amp;#10;        		// If it succeeded, replace.&amp;#10;        		inputValue = parsed;&amp;#10;        	} catch(err) {&amp;#10;        		// Ignore and proceed.&amp;#10;        	}&amp;#10;        }&amp;#10;        // The null argument is an undocumented feature indicating unbounded depth.&amp;#10;        var text = util.inspect(inputValue, {depth: null});&amp;#10;        display.appendText(text);&amp;#10;        this.send('output', text);&amp;#10;    });&amp;#10;};&amp;#10;"&gt;
            &lt;property name="style" class="ptolemy.actor.gui.style.NoteStyle"&gt;
                &lt;property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor"&gt;
                &lt;/property&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="accessorSource" class="org.terraswarm.accessor.JSAccessor$ActionableAttribute" value="https://accessors.org/utilities/TextDisplay.js"&gt;
        &lt;/property&gt;
        &lt;property name="documentation" class="ptolemy.vergil.basic.DocAttribute"&gt;
            &lt;property name="description" class="ptolemy.kernel.util.StringAttribute" value="&amp;lt;p&amp;gt;Display data using util.inspect() to render a more human-readable form.&amp;#10; Any data accepted by util.inspect() can be displayed.&amp;#10; The title may be used by the host to label the output in some way, either&amp;#10; by labeling a display window or prepending the printed text with the title.&amp;#10; The resulting text is passed through to the output in case a model wishes to ensure&amp;#10; that the image has been displayed before something else happens or the model&amp;#10; wishes to use the rendered text in some way.&amp;lt;/p&amp;gt;"&gt;
            &lt;/property&gt;
            &lt;property name="author" class="ptolemy.kernel.util.StringAttribute" value="Edward A. Lee"&gt;
            &lt;/property&gt;
            &lt;property name="version" class="ptolemy.kernel.util.StringAttribute" value="$$Id$$"&gt;
            &lt;/property&gt;
            &lt;property name="input (port)" class="ptolemy.kernel.util.StringAttribute" value="The text to display."&gt;
            &lt;/property&gt;
            &lt;property name="output (port)" class="ptolemy.kernel.util.StringAttribute" value="The text to display."&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory"&gt;
            &lt;property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script"&gt;
            &lt;/property&gt;
            &lt;property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="title" class="ptolemy.data.expr.Parameter" value="TextDisplay"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[1095.0, 325.0]"&gt;
        &lt;/property&gt;
        &lt;port name="input" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="input"/&gt;
        &lt;/port&gt;
        &lt;port name="output" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="output"/&gt;
        &lt;/port&gt;
    &lt;/entity&gt;
    &lt;entity name="Atomic Delete Then Insert" class="ptolemy.actor.lib.StringConst"&gt;
        &lt;property name="value" class="ptolemy.data.expr.Parameter" value="DELETE {  &amp;lt;http://ptolemy.berkeley.edu/a&amp;gt; &amp;lt;http://ptolemy.berkeley.edu/b&amp;gt;  &amp;lt;http://ptolemy.berkeley.edu/c&amp;gt; .} INSERT {  &amp;lt;http://ptolemy.berkeley.edu/a&amp;gt; &amp;lt;http://ptolemy.berkeley.edu/b&amp;gt;  &amp;lt;http://ptolemy.berkeley.edu/c&amp;gt; .} WHERE {}"&gt;
        &lt;/property&gt;
        &lt;doc&gt;Create a constant sequence with a string value.&lt;/doc&gt;
        &lt;property name="_icon" class="ptolemy.vergil.icon.BoxedValueIcon"&gt;
            &lt;property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="value"&gt;
            &lt;/property&gt;
            &lt;property name="displayWidth" class="ptolemy.data.expr.Parameter" value="80"&gt;
            &lt;/property&gt;
            &lt;property name="displayHeight" class="ptolemy.data.expr.Parameter" value="10"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[500.0, 325.0]"&gt;
        &lt;/property&gt;
    &lt;/entity&gt;
    &lt;entity name="SemanticRepositoryUpdate" class="org.terraswarm.accessor.JSAccessor"&gt;
        &lt;property name="_windowProperties" class="ptolemy.actor.gui.WindowPropertiesAttribute"&gt;
        &lt;/property&gt;
        &lt;property name="_paneSize" class="ptolemy.actor.gui.SizeAttribute"&gt;
        &lt;/property&gt;
        &lt;property name="script" class="ptolemy.actor.parameters.PortParameter" value="/** Perform a SPARQL update on a semantic repository such as GraphDB.&amp;#10; * &amp;#10; *  SPARQL is a W3C standard for querying semantic repositories,&amp;#10; *  playing an analogous role to SQL with respect to relational&amp;#10; *  databases. Semantic repositories fall within the domain of knowledge&amp;#10; *  representation in AI and typically are implemented as a triplestore:&amp;#10; *  entries in the repository have the form &amp;quot;subject&amp;quot;, &amp;quot;predicate&amp;quot;, &amp;quot;object&amp;quot;&amp;#10; *  eg. &amp;quot;An Apple&amp;quot; &amp;quot;IsA&amp;quot; &amp;quot;Fruit&amp;quot;&amp;#10; *  &amp;#10; *  An example SPARQL update to add a triple to the repository:&amp;#10; *&amp;#10; *  INSERT DATA {&amp;#10; *      &amp;lt;http://ptolemy.berkeley.edu/a&amp;gt; &amp;lt;http://ptolemy.berkeley.edu/b&amp;gt; &amp;lt;http://ptolemy.berkeley.edu/c&amp;gt; .&amp;#10; *  }&amp;#10; *&amp;#10; *  Documentation for SPARQL and the SPARQL Protocol 1.1 introducing updates can be found at&amp;#10; *  https://www.w3.org/TR/sparql11-query/&amp;#10; *&amp;#10; *  Information on GraphDB can be found at&amp;#10; *  http://graphdb.ontotext.com/&amp;#10; *  &amp;#10; *  SPARQL is also a protocol for communicating with RDF databases&amp;#10; *  Upon receiving an update input, this accessor performs an http POST&amp;#10; *  to the specified server and port with the body set to the&amp;#10; *  update input. The http status code is produced on the output with&amp;#10; *  a 204 response from the server indicating success.&amp;#10; *  If a different status code is received, this accessor throws an error. &amp;#10; *  Note that an INSERT that inserts data already in the repository or&amp;#10; *  a DELETE that removes data already absent from the &amp;#10; *  repository is treated by the respository as a&amp;#10; *  successful update.&amp;#10; *&amp;#10; *  This accessor does not block waiting for the response, but if any additional&amp;#10; *  *update* input is received before a pending request has received a response&amp;#10; *  or timed out, then the new request will be queued and sent out only after&amp;#10; *  the pending request has completed. This strategy ensures that outputs are&amp;#10; *  produced in the same order as the input requests.&amp;#10; *&amp;#10; *  @accessor services/SemanticRepositoryUpdate&amp;#10; *  @author Matt Weber&amp;#10; *  @version $$Id: SemanticRepository.js 1725 2017-05-19 22:59:11Z cxh $$&amp;#10; *  @input {string} update The update to be sent to the semantic repository.&amp;#10; *   Types of SPARQL updates are: INSERT and DELETE, but raw ontology data is accepted too with appropriate format.&amp;#10; *  @parameter {string} format The format of data sent to the ontology. Currently only supports data types from&amp;#10; *   http://docs.rdf4j.org/rest-api/#_content_types.&amp;#10; *  @parameter {string} host The URL for the semantic repository.&amp;#10; *  @parameter {string} port The port for the semantic repository.&amp;#10; *  @parameter {string} repositoryName The name of the particular repository on the host.&amp;#10; *  @parameter {boolean} authenticate If true, enable authentication to an access controlled&amp;#10; *   semantic repository by sending username and password with request. If false, username &amp;#10; *   and password information will not be sent. An error will occur if the http protocol is&amp;#10; *   selected with a true authenticate setting to avoid sending username/password information&amp;#10; *   in plain text.&amp;#10; *  @parameter {string} username A username for an access controlled semantic repository. &amp;#10; *  @parameter {string} password A password for an access controlled semantic repository.&amp;#10; *  @parameter {int} timeout The amount of time (in milliseconds) to wait for a response&amp;#10; *   before triggering a null response and an error. This defaults to 20000.&amp;#10; *  @output {string} status The status code of the http POST to the Semantic Repository.&amp;#10; *   A 204 code indicates success.&amp;#10; */&amp;#10;&amp;#10;&amp;#10;// Stop extra messages from jslint and jshint.  Note that there should&amp;#10;// be no space between the / and the * and global. See&amp;#10;// https://chess.eecs.berkeley.edu/ptexternal/wiki/Main/JSHint */&amp;#10;/*globals addInputHandler, addInputParameter, console, error, exports, extend, input, get, getParameter, getResource, output, parameter, send */&amp;#10;/*jshint globalstrict: true*/&amp;#10;'use strict';&amp;#10;&amp;#10;var base64 = require('base64-js');&amp;#10; /** Set up the accessor by defining the inputs and outputs.&amp;#10; */&amp;#10;exports.setup = function () {&amp;#10;    this.extend('net/REST');&amp;#10;    this.input('update', {&amp;#10;        'type': 'string'&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('protocol', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'http',&amp;#10;        'options': ['http', 'https']&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('host', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'localhost'&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('port', {&amp;#10;        'type': 'int',&amp;#10;        'value': 7200&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('repositoryName', {&amp;#10;        'type': 'string',&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('authenticate', {&amp;#10;        'type': 'boolean',&amp;#10;        'value': false&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('username', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'admin'&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('password', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'root'&amp;#10;    });&amp;#10;&amp;#10;    //Overriding inherited default timeout value of 5000ms to allow for longer queries by default&amp;#10;    this.parameter('timeout', {&amp;#10;        'type': 'int',&amp;#10;        'value': 20000&amp;#10;    });&amp;#10;&amp;#10;    this.parameter('format', {&amp;#10;        'type': 'string',&amp;#10;        'value': 'SPARQL',&amp;#10;        'options': [ 'SPARQL', 'RDF/XML', 'N-Triples', 'Turtle', 'N3', 'N-Quads', &amp;#10;            'JSON-LD', 'RDF/JSON', 'TriX', 'TriG', 'Sesame Binary RDF'&amp;#10;        ]&amp;#10;    });&amp;#10;&amp;#10;    //Use the response output from the REST accessor&amp;#10;&amp;#10;&amp;#10;    // Change default values of the base class inputs.&amp;#10;    // Also, hide base class inputs, except trigger.&amp;#10;    this.input('options', {&amp;#10;        'visibility': 'expert',&amp;#10;    });&amp;#10;    this.input('command', {&amp;#10;        'visibility': 'expert',&amp;#10;    });&amp;#10;    this.input('arguments', {&amp;#10;        'visibility': 'expert',&amp;#10;    });&amp;#10;    this.input('body', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;    this.input('trigger', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;    this.output('headers', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;    this.output('response', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;    this.parameter('outputCompleteResponseOnly', {&amp;#10;        'visibility': 'expert'&amp;#10;    });&amp;#10;};&amp;#10;&amp;#10;//Overriding REST&amp;#10;exports.filterResponse = function(response){&amp;#10;    return JSON.parse(response);&amp;#10;};&amp;#10;&amp;#10;//Overriding REST&amp;#10;//Connections to the SemanticRepository should be closed once data has been received.&amp;#10;exports.handleResponse = function(message){&amp;#10;    this.send('status', message.statusCode);&amp;#10;    exports.ssuper.wrapup();&amp;#10;    if(message.statusCode != 204){&amp;#10;        error('Received a ' + message.statusCode + ' status code from the Semantic Repository. 204 indicates success.');&amp;#10;    }&amp;#10;};&amp;#10;&amp;#10;exports.initialize = function(){&amp;#10;    exports.ssuper.initialize.call(this);&amp;#10;&amp;#10;    //Check for bad authentication and protocol settings at initialization.&amp;#10;    if(this.getParameter('protocol') == 'http' &amp;amp;&amp;amp; this.getParameter('authenticate') ){&amp;#10;        error(&amp;quot;Semantic Repository authentication setting incompatible with protocol setting. This accessor will not send username and password information in plain text over http. Change to https or dissable authentication.&amp;quot;);&amp;#10;    }&amp;#10;&amp;#10;    var thiz = this;&amp;#10;&amp;#10;    this.addInputHandler('update', function(){&amp;#10;&amp;#10;        //Check for bad authentication and protocol settings when preparing to send.&amp;#10;        if(thiz.getParameter('protocol') == 'http' &amp;amp;&amp;amp; thiz.getParameter('authenticate') ){&amp;#10;            error(&amp;quot;Semantic Repository authentication setting incompatible with protocol setting. This accessor will not send username and password information in plain text over http. Change to https or dissable authentication.&amp;quot;);&amp;#10;            return;&amp;#10;        }&amp;#10;&amp;#10;        var updateInput = thiz.get('update');&amp;#10;        var host = thiz.getParameter('host');&amp;#10;        var port = thiz.getParameter('port');&amp;#10;        var repositoryName = thiz.getParameter('repositoryName');&amp;#10;        var format = thiz.getParameter('format');&amp;#10;        var authenticate = thiz.getParameter('authenticate');&amp;#10;        var protocol = thiz.getParameter('protocol');&amp;#10;&amp;#10;        //The Semantic Repository GraphDB uses the RDF4j Server Rest API for these updates.&amp;#10;        //This table of content types to MIME types is taken (with the adddition of 'SPARQL') from &amp;#10;        //http://docs.rdf4j.org/rest-api/#_content_types&amp;#10;        var formatToMIME = { 'SPARQL' : 'application/sparql-update',&amp;#10;                            'RDF/XML' : 'application/rdf+xml',&amp;#10;                            'N-Triples' : 'text/plain',&amp;#10;                            'Turtle' : 'text/turtle',&amp;#10;                            'N3' : 'text/rdf+n3',&amp;#10;                            'N-Quads' : 'text/x-nquads',&amp;#10;                            'JSON-LD' : 'application/ld+json',&amp;#10;                            'RDF/JSON' : 'application/rdf+json',&amp;#10;                            'TriX' : 'application/trix',&amp;#10;                            'TriG' : 'application/x-trig',&amp;#10;                            'Sesame Binary RDF' : 'application/x-binary-rdf'&amp;#10;                             };&amp;#10;&amp;#10;        if(formatToMIME[format] === undefined){&amp;#10;            error('The format parameter is set to ' + format + '. This is not a supported format.');&amp;#10;        }&amp;#10;&amp;#10;        var options = {&amp;#10;            'headers' : {'Content-Type': formatToMIME[format]},&amp;#10;            'method'  : 'POST',&amp;#10;            'url'     : {'host'  : host,&amp;#10;                        'port'   : port,&amp;#10;                        'protocol' : protocol&amp;#10;                        }&amp;#10;        };&amp;#10;&amp;#10;        //If authenticating, add base64 encoded username and password to headers.&amp;#10;        //See basic authentication under http://graphdb.ontotext.com/documentation/standard/authentication.html&amp;#10;        if(authenticate &amp;amp;&amp;amp; protocol == 'https'){&amp;#10;            var username = thiz.getParameter('username');&amp;#10;            var password = thiz.getParameter('password');&amp;#10;&amp;#10;            //Note, contrary to the graphDB documentation, the separator between&amp;#10;            //username and password is a colon, not a forward slash.&amp;#10;            var login = username +&amp;quot;:&amp;quot; + password;&amp;#10;            var loginArray = login.split(&amp;quot;&amp;quot;);&amp;#10;            var loginNumeric = loginArray.map(function(x){ return x.charCodeAt(0)});&amp;#10;            var loginUint = new Uint8Array(loginNumeric);&amp;#10;            var login64 = base64.fromByteArray(loginUint);&amp;#10;            options.headers.Authorization =  'Basic ' + login64;&amp;#10;        }&amp;#10;&amp;#10;        var command = 'repositories/' + repositoryName + '/statements';&amp;#10;&amp;#10;        var body = updateInput;&amp;#10;&amp;#10;        thiz.send('options', options);&amp;#10;        thiz.send('command', command);&amp;#10;        thiz.send('body', body);&amp;#10;        thiz.send('trigger', true);&amp;#10;    });&amp;#10;};&amp;#10;"&gt;
            &lt;property name="style" class="ptolemy.actor.gui.style.NoteStyle"&gt;
                &lt;property name="note" class="ptolemy.kernel.util.StringAttribute" value="NOTE: To see the script, invoke Open Actor"&gt;
                &lt;/property&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="accessorSource" class="org.terraswarm.accessor.JSAccessor$ActionableAttribute" value="https://accessors.org/services/SemanticRepositoryUpdate.js"&gt;
        &lt;/property&gt;
        &lt;property name="documentation" class="ptolemy.vergil.basic.DocAttribute"&gt;
            &lt;property name="description" class="ptolemy.kernel.util.StringAttribute" value="&amp;lt;p&amp;gt;Perform a SPARQL update on a semantic repository such as GraphDB.&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; SPARQL is a W3C standard for querying semantic repositories,&amp;#10; playing an analogous role to SQL with respect to relational&amp;#10; databases. Semantic repositories fall within the domain of knowledge&amp;#10; representation in AI and typically are implemented as a triplestore:&amp;#10; entries in the repository have the form &amp;amp;quot;subject&amp;amp;quot;, &amp;amp;quot;predicate&amp;amp;quot;, &amp;amp;quot;object&amp;amp;quot;&amp;#10; eg. &amp;amp;quot;An Apple&amp;amp;quot; &amp;amp;quot;IsA&amp;amp;quot; &amp;amp;quot;Fruit&amp;amp;quot;&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; An example SPARQL update to add a triple to the repository:&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; INSERT DATA {&amp;#10;     &amp;lt;a href=&amp;quot;http://ptolemy.berkeley.edu/a&amp;quot;&amp;gt;http://ptolemy.berkeley.edu/a&amp;lt;/a&amp;gt; &amp;lt;a href=&amp;quot;http://ptolemy.berkeley.edu/b&amp;quot;&amp;gt;http://ptolemy.berkeley.edu/b&amp;lt;/a&amp;gt; &amp;lt;a href=&amp;quot;http://ptolemy.berkeley.edu/c&amp;quot;&amp;gt;http://ptolemy.berkeley.edu/c&amp;lt;/a&amp;gt; .&amp;#10; }&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; Documentation for SPARQL and the SPARQL Protocol 1.1 introducing updates can be found at&amp;#10; https://&amp;lt;a href=&amp;quot;http://www.w3.org/TR/sparql11-query/&amp;quot;&amp;gt;www.w3.org/TR/sparql11-query/&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; Information on GraphDB can be found at&amp;#10; http://graphdb.ontotext.com/&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; SPARQL is also a protocol for communicating with RDF databases&amp;#10; Upon receiving an update input, this accessor performs an http POST&amp;#10; to the specified server and port with the body set to the&amp;#10; update input. The http status code is produced on the output with&amp;#10; a 204 response from the server indicating success.&amp;#10; If a different status code is received, this accessor throws an error. &amp;#10; Note that an INSERT that inserts data already in the repository or&amp;#10; a DELETE that removes data already absent from the &amp;#10; repository is treated by the respository as a&amp;#10; successful update.&amp;lt;/p&amp;gt;&amp;#10;&amp;lt;p&amp;gt; This accessor does not block waiting for the response, but if any additional&amp;#10; &amp;lt;em&amp;gt;update&amp;lt;/em&amp;gt; input is received before a pending request has received a response&amp;#10; or timed out, then the new request will be queued and sent out only after&amp;#10; the pending request has completed. This strategy ensures that outputs are&amp;#10; produced in the same order as the input requests.&amp;lt;/p&amp;gt;"&gt;
            &lt;/property&gt;
            &lt;property name="author" class="ptolemy.kernel.util.StringAttribute" value="Matt Weber"&gt;
            &lt;/property&gt;
            &lt;property name="version" class="ptolemy.kernel.util.StringAttribute" value="$$Id: SemanticRepository.js 1725 2017-05-19 22:59:11Z cxh $$"&gt;
            &lt;/property&gt;
            &lt;property name="update (port)" class="ptolemy.kernel.util.StringAttribute" value="The update to be sent to the semantic repository.&amp;#10;  Types of SPARQL updates are: INSERT and DELETE, but raw ontology data is accepted too with appropriate format."&gt;
            &lt;/property&gt;
            &lt;property name="status (port)" class="ptolemy.kernel.util.StringAttribute" value="The status code of the http POST to the Semantic Repository.&amp;#10;  A 204 code indicates success."&gt;
            &lt;/property&gt;
            &lt;property name="format (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The format of data sent to the ontology. Currently only supports data types from&amp;#10;  http://docs.rdf4j.org/rest-api/#_content_types."&gt;
            &lt;/property&gt;
            &lt;property name="host (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The URL for the semantic repository."&gt;
            &lt;/property&gt;
            &lt;property name="port (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The port for the semantic repository."&gt;
            &lt;/property&gt;
            &lt;property name="repositoryName (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The name of the particular repository on the host."&gt;
            &lt;/property&gt;
            &lt;property name="authenticate (parameter)" class="ptolemy.kernel.util.StringAttribute" value="If true, enable authentication to an access controlled&amp;#10;  semantic repository by sending username and password with request. If false, username &amp;#10;  and password information will not be sent. An error will occur if the http protocol is&amp;#10;  selected with a true authenticate setting to avoid sending username/password information&amp;#10;  in plain text."&gt;
            &lt;/property&gt;
            &lt;property name="username (parameter)" class="ptolemy.kernel.util.StringAttribute" value="A username for an access controlled semantic repository."&gt;
            &lt;/property&gt;
            &lt;property name="password (parameter)" class="ptolemy.kernel.util.StringAttribute" value="A password for an access controlled semantic repository."&gt;
            &lt;/property&gt;
            &lt;property name="timeout (parameter)" class="ptolemy.kernel.util.StringAttribute" value="The amount of time (in milliseconds) to wait for a response&amp;#10;  before triggering a null response and an error. This defaults to 20000."&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_tableauFactory" class="ptolemy.vergil.toolbox.TextEditorTableauFactory"&gt;
            &lt;property name="attributeName" class="ptolemy.kernel.util.StringAttribute" value="script"&gt;
            &lt;/property&gt;
            &lt;property name="syntaxStyle" class="ptolemy.kernel.util.StringAttribute" value="text/javascript"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="options" class="ptolemy.actor.parameters.PortParameter" value=""&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
            &lt;property name="_JSON" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="command" class="ptolemy.actor.parameters.PortParameter" value=""&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="arguments" class="ptolemy.actor.parameters.PortParameter" value=""&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
            &lt;property name="_JSON" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="protocol" class="ptolemy.data.expr.Parameter" value="https"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="host" class="ptolemy.data.expr.Parameter" value="localhost"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="repositoryName" class="ptolemy.data.expr.Parameter" value="FirstRepo"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="username" class="ptolemy.data.expr.Parameter" value="admin"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="password" class="ptolemy.data.expr.Parameter" value="root"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="format" class="ptolemy.data.expr.Parameter" value="SPARQL"&gt;
            &lt;property name="_stringMode" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/property&gt;
        &lt;property name="_location" class="ptolemy.kernel.util.Location" value="[895.0, 325.0]"&gt;
        &lt;/property&gt;
        &lt;property name="authenticate" class="ptolemy.data.expr.Parameter" value="true"&gt;
        &lt;/property&gt;
        &lt;port name="options" class="ptolemy.actor.parameters.ParameterPort"&gt;
            &lt;property name="input"/&gt;
            &lt;property name="defaultValue" class="ptolemy.data.expr.Parameter"&gt;
            &lt;/property&gt;
            &lt;property name="_JSON" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/port&gt;
        &lt;port name="command" class="ptolemy.actor.parameters.ParameterPort"&gt;
            &lt;property name="input"/&gt;
            &lt;property name="defaultValue" class="ptolemy.data.expr.Parameter"&gt;
            &lt;/property&gt;
        &lt;/port&gt;
        &lt;port name="arguments" class="ptolemy.actor.parameters.ParameterPort"&gt;
            &lt;property name="input"/&gt;
            &lt;property name="defaultValue" class="ptolemy.data.expr.Parameter"&gt;
            &lt;/property&gt;
            &lt;property name="_JSON" class="ptolemy.kernel.util.SingletonAttribute"&gt;
            &lt;/property&gt;
        &lt;/port&gt;
        &lt;port name="trigger" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="input"/&gt;
        &lt;/port&gt;
        &lt;port name="body" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="input"/&gt;
        &lt;/port&gt;
        &lt;port name="response" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="output"/&gt;
        &lt;/port&gt;
        &lt;port name="status" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="output"/&gt;
        &lt;/port&gt;
        &lt;port name="headers" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="output"/&gt;
        &lt;/port&gt;
        &lt;port name="update" class="ptolemy.actor.TypedIOPort"&gt;
            &lt;property name="input"/&gt;
        &lt;/port&gt;
    &lt;/entity&gt;
    &lt;relation name="relation" class="ptolemy.actor.TypedIORelation"&gt;
    &lt;/relation&gt;
    &lt;relation name="relation2" class="ptolemy.actor.TypedIORelation"&gt;
    &lt;/relation&gt;
    &lt;relation name="relation3" class="ptolemy.actor.TypedIORelation"&gt;
    &lt;/relation&gt;
    &lt;relation name="relation5" class="ptolemy.actor.TypedIORelation"&gt;
    &lt;/relation&gt;
    &lt;relation name="relation4" class="ptolemy.actor.TypedIORelation"&gt;
    &lt;/relation&gt;
    &lt;relation name="relation6" class="ptolemy.actor.TypedIORelation"&gt;
    &lt;/relation&gt;
    &lt;link port="SingleEvent.output" relation="relation"/&gt;
    &lt;link port="StringConst.output" relation="relation2"/&gt;
    &lt;link port="StringConst.trigger" relation="relation"/&gt;
    &lt;link port="TextDisplay.input" relation="relation3"/&gt;
    &lt;link port="SemanticRepositoryQuery.response" relation="relation3"/&gt;
    &lt;link port="SemanticRepositoryQuery.query" relation="relation2"/&gt;
    &lt;link port="SingleEvent2.output" relation="relation5"/&gt;
    &lt;link port="TextDisplay2.input" relation="relation6"/&gt;
    &lt;link port="Atomic Delete Then Insert.output" relation="relation4"/&gt;
    &lt;link port="Atomic Delete Then Insert.trigger" relation="relation5"/&gt;
    &lt;link port="SemanticRepositoryUpdate.status" relation="relation6"/&gt;
    &lt;link port="SemanticRepositoryUpdate.update" relation="relation4"/&gt;
&lt;/entity&gt;




==== $PTII/ptolemy/configs/test/validDemos.tcl: validDemos-57 Validating parse of /home/travis/build/icyphy/ptII/ptolemy/configs/test/../../../org/terraswarm/accessor/demo/SemanticRepository/Authentication.xml after removing configure
==== Contents of test case:

	    set errMsg {}
	    if [catch {java::call ptolemy.configs.test.ValidatingXMLParser parse $filename} errMsg] {
		puts "Could not parse $modelPath, file $filename was"
		# Print out the contents of the failed file.
		# A common failure is a version control system conflict.
		set fp [open $filename r]
		puts [read $fp]
		close $fp
	    }

	    list $errMsg
	
==== Result was:
{org.xml.sax.SAXParseException; systemId: file:///tmp/validDemos8668744615630679151.xml; lineNumber: 50; columnNumber: 1110; An invalid XML character (Unicode: 0x19) was found in the value of attribute "value" and element is "property".}
---- Result should have been:
{}
---- validDemos-57 FAILED
.................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................Checked 746 demos from configs/doc/models.txt
01/29/19 03:39:27
Failed: 2  Total Tests: 3696  ((Passed: 3694, Newly Passed: 0)  Known Failed: 0) /home/travis/build/icyphy/ptII/ptolemy/configs/test
No auto/knownFailedTests/*.xml tests in /home/travis/build/icyphy/ptII/ptolemy/configs/test
No auto/linux-amd64/*.xml tests in /home/travis/build/icyphy/ptII/ptolemy/configs/test
AutoTests.java: About to close Vertx.
AutoTests.java: Vertx closed.
No auto/*.xml tests in /home/travis/build/icyphy/ptII/ptolemy/configs/test
AutoTests.java: About to close Vertx.
AutoTests.java: Vertx closed.
</pre>
</body>
</html>
