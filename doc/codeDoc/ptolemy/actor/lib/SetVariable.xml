<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="SetVariable" class="ptolemy.actor.lib.SetVariable">
  <description>
&lt;p&gt;Set the value of a variable. If there is a variable or parameter&#10; in scope with a name matching &lt;i&gt;variableName&lt;/i&gt;, then that&#10; variable is the one to be set. If there is no such variable,&#10; then one will be created in the container of this actor.&#10; A variable is in scope if it is contained by the container,&#10; the container's container, or any container above in the hierarchy.&#10; &lt;b&gt;NOTE:&lt;/b&gt; We recommend always creating a parameter with&#10; a name matching &lt;i&gt;variableName&lt;/i&gt;, because then the model is&#10; explicit about which variable will be set. It also makes it easier&#10; to monitor the variable updates.&#10; &lt;/p&gt;&lt;p&gt;&#10; The update to the variable&#10; may occur at two different times, depending on the value of the&#10; &lt;i&gt;delayed&lt;/i&gt; parameter.&#10; If &lt;i&gt;delayed&lt;/i&gt; is true, then the change to&#10; the value of the variable is implemented in a change request, and&#10; consequently will not take hold until the end of the current&#10; top-level iteration.  This helps ensure that users of value of the&#10; variable will see changes to the value deterministically&#10; (independent of the schedule of execution of the actors),&#10; assuming there is only a single instance of SetVariable writing&#10; to the variable.&#10; If &lt;i&gt;delayed&lt;/i&gt; is false, then the change to the value of&#10; the variable is performed immediately in the fire() method.&#10; This allows more frequent&#10; reconfiguration. However, this can result in nondeterminism if&#10; the variable values are observed by any other actor in&#10; the system. If you are trying to communicate with another&#10; actor without wiring, use the Publisher and Subscriber&#10; actors instead.&#10; &lt;/p&gt;&lt;p&gt;&#10; If &lt;i&gt;delayed&lt;/i&gt; is false, then&#10; the &lt;i&gt;output&lt;/i&gt; port produces the same token provided at&#10; the &lt;i&gt;input&lt;/i&gt; port when the actor fires, after the&#10; specified variable has been set. This can be used, even with&#10; &lt;i&gt;delayed&lt;/i&gt; set to false, to ensure determinacy by&#10; triggering downstream actions only after the variable has&#10; been set.&#10; &lt;/p&gt;&lt;p&gt;&#10; If &lt;i&gt;delayed&lt;/i&gt; is true, then&#10; the &lt;i&gt;output&lt;/i&gt; port produces the current value&#10; of the referenced variable. If the referenced variable&#10; does not exist on the first firing, or is not an instance&#10; of Variable, then no output is&#10; produced on the first firing.&#10; &lt;/p&gt;&lt;p&gt;&#10; The variable can be any attribute that implements&#10; the Settable interface, which includes Parameter.&#10; If it is in addition an instance of&#10; Variable or Parameter, then the input token is used directly to set the&#10; value, and the type of the variable is constrained to be&#10; the same as the type of the input. Otherwise, then input&#10; token is converted to a string and the setExpression() method&#10; on the variable is used to set the value.&#10; &lt;/p&gt;&lt;p&gt;&#10; For efficiency, the variable update does not automatically&#10; trigger a repaint in Vergil. If the variable value is being used&#10; to create an animation in Vergil, then you should include in the model&#10; an instance of RepaintController, which can be found under&#10; Utilities in the library.  </description>
  <author>Edward A. Lee, Steve Neuendorffer, Contributor: Blanc, Bert Rodiers</author>
  <version>$Id$</version>
  <since>Ptolemy II 4.0</since>
  <Pt.ProposedRating>Red (yuhong)</Pt.ProposedRating>
  <Pt.AcceptedRating>Red (cxh)</Pt.AcceptedRating>
    <!--ptolemy.actor.TypedIOPort-->
    <port name="input">The input port.</port>
    <!--ptolemy.actor.TypedIOPort-->
    <port name="output">The output port.</port>
    <!--ptolemy.data.expr.Parameter-->
    <property name="delayed">Parameter that determines when reconfiguration occurs.</property>
    <!--ptolemy.kernel.util.StringAttribute-->
    <property name="variableName">The name of the variable in the container to set.</property>
</doc>
