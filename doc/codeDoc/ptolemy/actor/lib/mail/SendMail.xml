<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="SendMail" class="ptolemy.actor.lib.mail.SendMail">
  <description>
Upon firing, send email to the specified recipient.&#10;  This actor uses the SMTP protocol and will prompt for a password&#10;  upon being first invoked. The password is sent encrypted.&#10;  &lt;p&gt;&#10;  By default, this actor will not actually send email, but&#10;  will rather produce the formatted email on its output port.&#10;  The reason for this is that sending email should be done&#10;  with some hesitation, since it is easy with such an actor&#10;  to create a flood of email that will have undesirable effects.&#10;  To get the actor to actually send email, change the value&#10;  of the &lt;i&gt;reallySendMail&lt;/i&gt; parameter to true. Upon completion&#10;  of an execution, &lt;i&gt;reallySendMail&lt;/i&gt; will be set back to false&#10;  (in the wrapup() method) to help prevent accidental duplicate&#10;  mailings.&lt;/p&gt;&#10;  &lt;p&gt;&#10;  This actor requires the JavaMail 1.5 javax.mail.jar file be in the&#10;  classpath.&lt;/p&gt;&#10;  &lt;p&gt;To use this actor, download &lt;code&gt;javax.mail.jar&lt;/code&gt;&#10;  &lt;a href=&quot;https://java.net/projects/javamail/pages/Home&quot;&gt;&lt;code&gt;https://java.net/projects/javamail/pages/Home&lt;/code&gt;&lt;/a&gt; and place it in&#10;  &lt;code&gt;$PTII/vendors/misc/javamail&lt;/code&gt;.  Below are the steps:&lt;/p&gt;&#10;  &lt;pre&gt;&#10;    cd $PTII/vendors/misc/javamail&#10;     wget --no-check-certificate http://java.net/projects/javamail/downloads/download/javax.mail.jar&#10;     cd $PTII&#10;     ./configure&#10;  &lt;/pre&gt;&#10;  &lt;p&gt;In Eclipse, you will then need to refresh the project.&lt;/p&gt;&#10;&#10;  &lt;p&gt;If you are using Google as your smtp provider, then you may&#10;  need to modify your Google account to&#10;  &lt;a href=&quot;https://support.google.com/accounts/answer/6010255?hl=en#in_browser&quot;&gt;Allow less secure apps to access your account&lt;/a&gt;.&#10;  &lt;/p&gt;&#10;&#10;  &lt;p&gt;This is because this actor does not support OAuth 2.0.&#10;  &lt;a href=&quot;https://support.google.com/a/answer/6260879?hl=en#in_browser&quot;&gt;Allow less secure apps to access accounts Frequently Asked Questions (FAQ)&lt;/a&gt; says:&lt;/p&gt;&#10;  &lt;blockquote&gt;&#10;    &lt;p&gt;&lt;b&gt;What criteria is used to identify an application as being &quot;less secure&quot;?&lt;/b&gt;&#10;    &lt;p&gt;Applications that rely on plain username/password&#10;    authentication to access an account programmatically are&#10;    considered less secure than those using modern day security&#10;    standards such as OAuth 2.0.&lt;/p&gt;&#10;  &lt;/blockquote&gt;  </description>
  <author>Edward A. Lee</author>
  <version>$Id$</version>
  <since>Ptolemy II 10.0</since>
  <Pt.ProposedRating>Yellow (eal)</Pt.ProposedRating>
  <Pt.AcceptedRating>Red (cxh)</Pt.AcceptedRating>
    <!--ptolemy.actor.TypedIOPort-->
    <port name="output">Output to which the formatted message is sent.&#10;  The type of this output is string.</port>
    <!--ptolemy.data.expr.FileParameter-->
    <property name="attach">File to attach, if any. By default, this is empty,&#10;  which means to not attach any file.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="cc">Email address to copy on the message.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="from">Email address from which this is sent.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="message">The message to send. This defaults to an empty string.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="password">Password port of the account.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="replyTo">The address to which replies should be directed.&#10;  This is a comma-separated list that defaults to&#10;  an empty string, which indicates that the reply&#10;  should go to the address specified by &lt;i&gt;from&lt;/i&gt;.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="reallySendMail">If true, then actually send the email.&#10;  This is a boolean that defaults to false,&#10;  meaning that the message is only sent to the output port.&#10;  This parameter will be set back to false in the&#10;  wrapup() method, to help prevent duplicate mailings.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="SMTPHostName">Host name for the send mail server.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="SMTPPort">Outgoing SMTP mail port.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="SMTPUserName">User name for the send mail server.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="enableSSL">Enable the Secure Sockets Layer (SSL) protocol.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="subject">The subject line. This defaults to an empty string.</property>
    <!--ptolemy.actor.parameters.PortParameter-->
    <property name="to">Email address(es) to which this is sent.&#10;  This is a comma-separated list that defaults to&#10;  &quot;nobody1@nowhere.com, nobody2@nowhere.com&quot;.</property>
</doc>
