<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="AudioWriter" class="ptolemy.actor.lib.javasound.AudioWriter">
  <description>
This actor reads audio samples from the input port and writes&#10; the samples to the specified sound file. Any existing file&#10; with the same name will be silently overwritten. The input port&#10; is of type DoubleToken. Each DoubleToken read from the input&#10; port represents one sample of the audio data and should be in&#10; the range [-1.0, 1.0]. Any samples that are outside of this range&#10; will be hard-clipped to fall within this range before they are&#10; written to the sound file. Single channel (mono) and two&#10; channel (stereo) formats are supported. For single channel&#10; audio, tokens are written to channel 0 of the output port. For&#10; stereo , tokens are written to channel 0 (left) and channel 1&#10; (right) of the output port.&#10;&#10; &lt;p&gt; The following parameters should be set to specify the format of&#10; the file to write. In all cases, an exception is thrown if an illegal&#10; parameter value is used. Note that if a parameter is changed while&#10; audio writing is active, all data written so far will be saved, and&#10; the sound file will be closed. Subsequent audio samples will then be&#10; written to a new sound file with the new parameter values.&lt;/p&gt;&#10;&#10; &lt;ul&gt;&#10; &lt;li&gt;&lt;i&gt;pathName&lt;/i&gt; should be set to the name of the output&#10; file. Any existing file with the same name will be silently&#10; overwritten. Relative filenames are supported. The default value is&#10; &quot;outfile.wav&quot;. The audio format to use is determined by the file&#10; extension. E.g., &quot;outfile.wav&quot; will create a WAV format file.&#10; The supported file formats are AU, WAV, and, AIFF.  For example,&#10; to write samples to a Sun AU format file with the name &quot;test.au&quot;&#10; in the directory &quot;c:\tmp&quot;, this parameter should be set to the&#10; value c:\tmp\test.au. To write samples to a file with name &quot;test.au&quot;&#10; in the current directory, this parameter should be set to the value&#10; test.au.&lt;/li&gt;&#10;&#10; &lt;li&gt;&lt;i&gt;channels&lt;/i&gt; should be set to desired number of audio&#10; channels. Allowable values are 1 (for mono) and 2 (for stereo).  The&#10; default value is 1.&lt;/li&gt;&#10;&#10; &lt;li&gt;&lt;i&gt;sampleRate&lt;/i&gt; should be set to desired sample rate, in&#10; Hz. The DoubleTokens read in by this actor will be interpreted as&#10; having this sample rate. Allowable values are 8000, 11025, 22050,&#10; 44100, and 48000. The default value is 8000.&lt;/li&gt;&#10;&#10; &lt;li&gt;&lt;i&gt;bitsPerSample&lt;/i&gt; should be set to desired bit&#10; resolution. Allowable values are 8 and 16. The default value is&#10; 16.&lt;/li&gt;&#10;&#10; &lt;/ul&gt;&#10;&#10; &lt;p&gt;&#10; There are security issues involved with accessing files and&#10; audio resources in applets. By default, applets are not&#10; allowed to write files. The .java.policy file may be modified&#10; to grant applets more privileges.&lt;/p&gt;  </description>
  <author>Brian K. Vogel</author>
  <version>$Id$</version>
  <since>Ptolemy II 1.0</since>
  <Pt.ProposedRating>Yellow (vogel)</Pt.ProposedRating>
  <Pt.AcceptedRating>Yellow (chf)</Pt.AcceptedRating>
    <!--ptolemy.data.expr.Parameter-->
    <property name="sampleRate">The desired sample rate to use, in Hz. Valid values&#10;  include: 8000, 11025, 22050, 44100, and 48000.&#10;  The default value of the sample rate is an IntToken equal&#10;  to 8000.&#10;  &lt;p&gt;&#10;  An exception will be thrown if an illegal value is used.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="bitsPerSample">The desired number of bits per sample. The default value is&#10;  an IntToken equal to 16. Supported values are 8 and 16.&#10;  An exception will be thrown if an illegal value is&#10;  used.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="channels">The number of audio channels to use. Supported values are&#10;  1 (single channel) and 2 (stereo).&#10;  The default value is an IntToken equal to 1.&#10;  An exception will be thrown if an illegal value is used.</property>
    <!--ptolemy.kernel.util.StringAttribute-->
    <property name="pathName">The name of the file to write to. The default&#10;  value of this parameter is &quot;test.wav&quot;, which creates a file called&#10;  test.wav in the current directory and writes samples to this file.&#10;  &lt;p&gt;&#10;  The audio format to use is determined by the file extension.&#10;  E.g., &quot;outfile.wav&quot; will create a WAV format file.&#10;  The supported file formats are AU, WAV, and, AIFF.&#10;  &lt;p&gt;&#10;  An exception will be occur if the path references an&#10;  unsupported sound file.</property>
</doc>
