<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="SmoothZeroCrossingDetector" class="ptolemy.domains.qss.lib.SmoothZeroCrossingDetector">
  <description>
A zero-crossing detector designed for use with quantized-state systems.&#10;The input is of type double, and it is assumed to represent a piecewise&#10;smooth signal. When presented with an input, if the has either crossed or&#10;hit zero since the last seen input, then an output will be produced.&#10;If derivatives are available on the input, then they are&#10;used to predict the time of the next zero crossing (or touching),&#10;and this actor will request a refiring at that time. If it refires&#10;at that time, and no other input has arrived in the intervening interval,&#10;then it will produce an output in that firing.&#10;&lt;p&gt;&#10;&lt;b&gt;NOTE:&lt;/b&gt; This actor currently discards all derivatives of the input&#10;higher than the second derivative. Hence, it could miss a zero crossing&#10;by a substantial margin if there are higher-order derivatives.  </description>
  <author>Edward A. Lee</author>
  <version>$Id$</version>
  <since>Ptolemy II 11.0</since>
  <Pt.ProposedRating>Yellow (eal)</Pt.ProposedRating>
  <Pt.AcceptedRating>Red (cxh)</Pt.AcceptedRating>
    <!--ptolemy.actor.TypedIOPort-->
    <port name="input">Input signal. This has type double and is normally a SmoothToken.</port>
    <!--ptolemy.actor.TypedIOPort-->
    <port name="output">Output event with value 0.0 when the zero crossing occurs.</port>
    <!--ptolemy.data.expr.StringParameter-->
    <property name="direction">A parameter that can be used to limit the detected level crossings&#10;  to rising or falling. There are three choices: &quot;falling&quot;, &quot;rising&quot;, and&#10;  &quot;both&quot;. The default value is &quot;both&quot;.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="errorTolerance">The error tolerance specifying how close the time needs to be to&#10;  the zero crossing to produce the output event.&#10;  This is a double with default 1e-4.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="level">The parameter that specifies the level threshold. By default, it&#10;  contains a double with value 0.0. Note, a change of this&#10;  parameter at run time will not be applied until the next&#10;  iteration.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="value">The output value to produce when a level-crossing is detected.&#10;  This can be any data type. It defaults to the same value&#10;  as the &lt;i&gt;level&lt;/i&gt; parameter.</property>
</doc>
