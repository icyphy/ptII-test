<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="MultirateFSMDirector" class="ptolemy.domains.modal.kernel.MultirateFSMDirector">
  <description>
This director extends FSMDirector by supporting production and consumption&#10; of multiple tokens on a port in a firing. This director assumes that every&#10; state has exactly one refinement, unless the state has an immediate&#10; transition whose guard evaluates to true in the iteration in which the&#10; state is entered. In addition, preemptive transitions are not allowed.&#10; Hence, each time when a modal model is fired,&#10; the current state always has a state refinement that is fired and&#10; will consume and produce outputs.&#10; &lt;p&gt;&#10; The number of tokens to be transferred from an input port of the modal model&#10; is at most the token consumption rate inferred by the inside port of the&#10; current state refinement. The number of tokens to be transferred from an&#10; output port of the state refinement is exactly the token production rate&#10; inferred by the state refinement. If there are not enough tokens available&#10; from the refinement, an exception is thrown. The default token consumption&#10; and production rate of a port is 1.&#10; &lt;p&gt;&#10; When a state transition occurs, this director compares the port rates of&#10; the destination state refinement with that of the current state refinement.&#10; If the rates are different, then it invalidate the schedule of the executive&#10; director of the modal model and updates the port rates of the modal model to be&#10; the port rates of the destination state refinement.  </description>
  <author>Ye Zhou and Edward A. Lee</author>
  <version>$Id$</version>
  <since>Ptolemy II 8.0</since>
  <Pt.ProposedRating>Red (hyzheng)</Pt.ProposedRating>
  <Pt.AcceptedRating>Red (hyzheng)</Pt.AcceptedRating>
</doc>
