<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>AlgebraicLoopDirector.AlgebraicLoopSolver</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AlgebraicLoopDirector.AlgebraicLoopSolver";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.html" title="class in ptolemy.domains.algebraic.kernel"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.Homotopy.html" title="class in ptolemy.domains.algebraic.kernel"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html" target="_top">Frames</a></li>
<li><a href="AlgebraicLoopDirector.AlgebraicLoopSolver.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ptolemy.domains.algebraic.kernel</div>
<h2 title="Class AlgebraicLoopDirector.AlgebraicLoopSolver" class="title">Class AlgebraicLoopDirector.AlgebraicLoopSolver</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ptolemy.domains.algebraic.kernel.AlgebraicLoopDirector.AlgebraicLoopSolver</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.Homotopy.html" title="class in ptolemy.domains.algebraic.kernel">AlgebraicLoopDirector.Homotopy</a>, <a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.NewtonRaphson.html" title="class in ptolemy.domains.algebraic.kernel">AlgebraicLoopDirector.NewtonRaphson</a>, <a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.SuccessiveSubstitution.html" title="class in ptolemy.domains.algebraic.kernel">AlgebraicLoopDirector.SuccessiveSubstitution</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.html" title="class in ptolemy.domains.algebraic.kernel">AlgebraicLoopDirector</a></dd>
</dl>
<hr>
<br>
<pre>abstract class <span class="typeNameLabel">AlgebraicLoopDirector.AlgebraicLoopSolver</span>
extends java.lang.Object</pre>
<div class="block">A class for solving algebraic loops.
    
     This class solves an algebraic loop of the form x=g(x)
     <pre>
         -----------
         |  -----  |
         --&gt;| g |---
         x  -----
     </pre>
     where <i>x</i> is initially the vector of values corresponding to input
     ports that have a non-null defaultValue parameter, and <i>g</i> is the
     network of actors connecting these ports.
     <p>
     For the SuccessiveSubstitution, we simply evaluate <i>g</i> repeatedly
     until either all signals do not change by more than the errorTolerance,
     or until there have been <i>maxIterations</i>. Note that it is possible
     to reach a fixed point where some or all signals are infinite.
     <p>
     For NewtonRaphson, we solve for g(x)=x by solving f(x)=0,
     where f(x) = g(x)-x. This is done by iterating as follows:
     <pre>
       x_n+1 = x_n - f(x_n)/f'(x_n) = x_n - (g(x_n) - x_n)/(g'(x_n) - 1) .
     </pre>
     To estimate g'(x_n), we do
     <pre>
       g'(x_n) = (g(x_n + d) - g(x_n))/d
     </pre>
     where <i>d</i> is the <i>delta</i> parameter.
     <p>
     For Homotopy, we solve f(x) = x - g(x) = 0.
     The problem is reformulated as H(x, lambda) = x - lambda g(x),
     where lambda has an initial value of 0 and is successively increased to 1.
     The implementation is equal to Program 3 of
     Eugene L. Allgower and Kurt Georg,
     Introduction to Numerical Continuation Methods,
     Classics in Applied Mathematics, Vol. 45, SIAM, 2003.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Michael Wetter</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#Z:Z_converged">_converged</a></span></code>
<div class="block">Flag that indicates whether the solver converged</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#Z:Z_iterationCount">_iterationCount</a></span></code>
<div class="block">Number of iterations in the last call to the function solve(double[])</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#Z:Z_maxIterations">_maxIterations</a></span></code>
<div class="block">Maximum number of iterations</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#Z:Z_tolerance">_tolerance</a></span></code>
<div class="block">Local view of the tolerance vector.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#Z:Z_variableNames">_variableNames</a></span></code>
<div class="block">Variable names, used for error reporting</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#AlgebraicLoopSolver-java.lang.String:A-double:A-int-">AlgebraicLoopSolver</a></span>(java.lang.String[]&nbsp;variableNames,
                   double[]&nbsp;tolerance,
                   int&nbsp;maxIterations)</code>
<div class="block">Construct an algebraic loop solver.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#Z:Z_didConverge-double:A-">_didConverge</a></span>(double[]&nbsp;f)</code>
<div class="block">Return true if each element of f is within the solver tolerance.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#converged--">converged</a></span>()</code>
<div class="block">Return true if the solver converged, false otherwise.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#getIterationCount--">getIterationCount</a></span>()</code>
<div class="block">Return the number of iterations done in the last call to the method solve(double[]).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html#solve-double:A-">solve</a></span>(double[]&nbsp;xIni)</code>
<div class="block">This method solves the fixed point iteration.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_converged">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_converged</h4>
<pre>protected&nbsp;boolean _converged</pre>
<div class="block">Flag that indicates whether the solver converged</div>
</li>
</ul>
<a name="Z:Z_iterationCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_iterationCount</h4>
<pre>protected&nbsp;int _iterationCount</pre>
<div class="block">Number of iterations in the last call to the function solve(double[])</div>
</li>
</ul>
<a name="Z:Z_maxIterations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_maxIterations</h4>
<pre>protected&nbsp;int _maxIterations</pre>
<div class="block">Maximum number of iterations</div>
</li>
</ul>
<a name="Z:Z_tolerance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_tolerance</h4>
<pre>protected&nbsp;double[] _tolerance</pre>
<div class="block">Local view of the tolerance vector.</div>
</li>
</ul>
<a name="Z:Z_variableNames">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_variableNames</h4>
<pre>protected&nbsp;java.lang.String[] _variableNames</pre>
<div class="block">Variable names, used for error reporting</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AlgebraicLoopSolver-java.lang.String:A-double:A-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AlgebraicLoopSolver</h4>
<pre>public&nbsp;AlgebraicLoopSolver(java.lang.String[]&nbsp;variableNames,
                           double[]&nbsp;tolerance,
                           int&nbsp;maxIterations)
                    throws <a href="../../../../ptolemy/kernel/util/IllegalActionException.html" title="class in ptolemy.kernel.util">IllegalActionException</a></pre>
<div class="block">Construct an algebraic loop solver.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>variableNames</code> - Names of each break variable.</dd>
<dd><code>tolerance</code> - Tolerance for each variable.</dd>
<dd><code>maxIterations</code> - Maximum number of iterations.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../ptolemy/kernel/util/IllegalActionException.html" title="class in ptolemy.kernel.util">IllegalActionException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="converged--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>converged</h4>
<pre>public&nbsp;boolean&nbsp;converged()</pre>
<div class="block">Return true if the solver converged, false otherwise.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the solver converged, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="solve-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>solve</h4>
<pre>public abstract&nbsp;void&nbsp;solve(double[]&nbsp;xIni)
                    throws <a href="../../../../ptolemy/kernel/util/IllegalActionException.html" title="class in ptolemy.kernel.util">IllegalActionException</a></pre>
<div class="block">This method solves the fixed point iteration.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xIni</code> - Array with the initial values of the variables, to be replaced
   with the solution by this method.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../ptolemy/kernel/util/IllegalActionException.html" title="class in ptolemy.kernel.util">IllegalActionException</a></code> - If the prefire() method
  returns false having previously returned true in the same
  iteration, or if the prefire() or fire() method of the actor
  throws it, or if evaluating the function yields a value that
  is not a double, or if the solver fails to find a solution.</dd>
</dl>
</li>
</ul>
<a name="getIterationCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIterationCount</h4>
<pre>public&nbsp;int&nbsp;getIterationCount()</pre>
<div class="block">Return the number of iterations done in the last call to the method solve(double[]).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of iterations</dd>
</dl>
</li>
</ul>
<a name="Z:Z_didConverge-double:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_didConverge</h4>
<pre>protected&nbsp;boolean&nbsp;_didConverge(double[]&nbsp;f)</pre>
<div class="block">Return true if each element of f is within the solver tolerance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>f</code> - Value of residual function to be tested.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if convergence is achieved, false otherwise.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.html" title="class in ptolemy.domains.algebraic.kernel"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.Homotopy.html" title="class in ptolemy.domains.algebraic.kernel"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ptolemy/domains/algebraic/kernel/AlgebraicLoopDirector.AlgebraicLoopSolver.html" target="_top">Frames</a></li>
<li><a href="AlgebraicLoopDirector.AlgebraicLoopSolver.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
