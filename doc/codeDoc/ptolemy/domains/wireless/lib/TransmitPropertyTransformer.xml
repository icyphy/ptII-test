<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="TransmitPropertyTransformer" class="ptolemy.domains.wireless.lib.TransmitPropertyTransformer">
  <description>
This actor reads input tokens and sends them unmodified to the output;&#10; its role is not to operate on input tokens, but rather to modify the&#10; properties of a transmission.&#10; &lt;p&gt;&#10; This actor implements the PropertyTransformer interface, which provides&#10; a callback that can be use to modify the transmit properties of a&#10; transmission.  It register itself and its connected wireless&#10; output port with the channel that the wireless output port uses.&#10; The channel will call its transformProperties() method for each&#10; transmission from the registered output port.&#10; &lt;p&gt;&#10; When transformProperties() is called, this actor sets the value&#10; of three variables and then performs a complete execution of the&#10; contained model. The three variables are &lt;i&gt;senderLocation&lt;/i&gt;&#10; (an array of doubles), &lt;i&gt;receiverLocation&lt;/i&gt; (also an array of&#10; doubles), and &lt;i&gt;properties&lt;/i&gt; (a record token containing the&#10; transmit properties to be modified). After execution of the contained&#10; model, the (possibly modified) value of the record &lt;i&gt;properties&lt;/i&gt;&#10; is taken to be the modified properties. Thus, a contained model would&#10; normally read the variable &lt;i&gt;properties&lt;/i&gt;, change it, and use&#10; a SetVariable actor to set the new value of &lt;i&gt;properties&lt;/i&gt;.&#10; &lt;p&gt;&#10; This actor expects its output port to be connected directly&#10; to the inside of a WirelessIOPort belonging to this actor's container.&#10; It looks for this port in the preinitialize() method, and registers&#10; with the channel specified by that port.  If there is no such port,&#10; or no such channel, then preinitialize() throws an exception.&#10; Note that since this connectivity is checked only during preinitialize(),&#10; this actor does not support dynamically reconnecting its output port&#10; during execution of the model.  </description>
  <author>Yang Zhao, Edward Lee</author>
  <version>$Id$</version>
  <since>Ptolemy II 4.0</since>
  <Pt.ProposedRating>Yellow (eal)</Pt.ProposedRating>
  <Pt.AcceptedRating>Red (pjb2e)</Pt.AcceptedRating>
    <!--ptolemy.actor.TypedIOPort-->
    <port name="input">Port that receives the data to be transmitted on the &lt;i&gt;output&lt;/i&gt;&#10;  port. The type is unconstrained.</port>
    <!--ptolemy.actor.TypedIOPort-->
    <port name="output">Port that sends data to a wireless output. The type is constrained&#10;  to be the same as the input.</port>
    <!--ptolemy.data.expr.Parameter-->
    <property name="senderLocation">The location of the sender. This is a double array with default&#10;  value {0.0, 0.0}.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="receiverLocation">The location of the receiver. This is a double array with default&#10;  value {0.0, 0.0}.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="properties">The properties to be transformed. This is a&#10;  record token with value {power = 0.0, range = 0.0}.</property>
</doc>
