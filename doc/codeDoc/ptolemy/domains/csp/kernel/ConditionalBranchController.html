<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ConditionalBranchController</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConditionalBranchController";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">ptolemy.domains.csp.kernel</a></div>
<h2 title="Class ConditionalBranchController" class="title">Class ConditionalBranchController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="AbstractBranchController.html" title="class in ptolemy.domains.csp.kernel">ptolemy.domains.csp.kernel.AbstractBranchController</a></li>
<li>
<ul class="inheritance">
<li>ptolemy.domains.csp.kernel.ConditionalBranchController</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../../kernel/util/Debuggable.html" title="interface in ptolemy.kernel.util">Debuggable</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">ConditionalBranchController</span>
extends <a href="AbstractBranchController.html" title="class in ptolemy.domains.csp.kernel">AbstractBranchController</a></pre>
<div class="block">A controller that manages the conditional branches for performing
 conditional communication within CSP (Communication Sequential Processes)
 domain. Any CSP actors (either atomic or composite) that need the
 functionality of conditional communication must contain and instantiate
 an object of this class. In addition, they also needs to implement the
 interface BranchActor.
 <p>
 The conditional branches are supposed to be created within the parent
 actor that contains this controller.
 <p>The chooseBranch() method takes those branches (an array) as an
 argument, and controls which branch is successful. The successful
 branch is the branch that succeeds with its communication. To
 determine which branch is successful, the guards of <I>all</I>
 branches are checked. If the guard for a branch is true then that
 branch is <I>enabled</I>. If no branches are enabled, i.e. if all
 the guards are false, then -1 is returned to indicate this.  If
 exactly one branch is enabled, the corresponding communication is
 carried out and the identification number of the branch is
 returned.  If more than one branch is enabled, a separate thread is
 created and started for each enabled branch. The method then waits
 for one of the branches to succeed, after which it wakes up and
 terminates the remaining branches. When the last conditional branch
 thread has finished, the method returns allowing the parent actor
 thread to continue.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>Ptolemy II 0.4</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>$Id$</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Neil Smyth, Bilung Lee, Edward A. Lee</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ConditionalBranch.html" title="class in ptolemy.domains.csp.kernel"><code>ConditionalBranch</code></a>, 
<a href="BranchActor.html" title="interface in ptolemy.domains.csp.kernel"><code>BranchActor</code></a>, 
<a href="ConditionalReceive.html" title="class in ptolemy.domains.csp.kernel"><code>ConditionalReceive</code></a>, 
<a href="ConditionalSend.html" title="class in ptolemy.domains.csp.kernel"><code>ConditionalSend</code></a></dd>
<dt><span class="simpleTagLabel">Pt.AcceptedRating:</span></dt>
<dd>Red (bilung)</dd>
<dt><span class="simpleTagLabel">Pt.ProposedRating:</span></dt>
<dd>Yellow (eal)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.ptolemy.domains.csp.kernel.AbstractBranchController">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;ptolemy.domains.csp.kernel.<a href="AbstractBranchController.html" title="class in ptolemy.domains.csp.kernel">AbstractBranchController</a></h3>
<code><a href="AbstractBranchController.html#_branches">_branches</a>, <a href="AbstractBranchController.html#_branchesActive">_branchesActive</a>, <a href="AbstractBranchController.html#_debugging">_debugging</a>, <a href="AbstractBranchController.html#_threadList">_threadList</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(ptolemy.actor.Actor)">ConditionalBranchController</a></span>&#8203;(<a href="../../../actor/Actor.html" title="interface in ptolemy.actor">Actor</a>&nbsp;container)</code></th>
<td class="colLast">
<div class="block">Construct a controller in the specified container, which should
  be an actor.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#_branchFailed(int)">_branchFailed</a></span>&#8203;(int&nbsp;branchNumber)</code></th>
<td class="colLast">
<div class="block">Register the calling branch as failed.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#_branchNotReady(int)">_branchNotReady</a></span>&#8203;(int&nbsp;branchNumber)</code></th>
<td class="colLast">
<div class="block">Release the status of the calling branch as the first branch
  to be ready to rendezvous.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#_branchSucceeded(int)">_branchSucceeded</a></span>&#8203;(int&nbsp;branchID)</code></th>
<td class="colLast">
<div class="block">Registers the calling branch as the successful branch.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#_isBranchReady(int)">_isBranchReady</a></span>&#8203;(int&nbsp;branchNumber)</code></th>
<td class="colLast">
<div class="block">Called by ConditionalSend and ConditionalReceive to check whether
  the calling branch is the first branch to be ready to rendezvous.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#chooseBranch(ptolemy.domains.csp.kernel.ConditionalBranch%5B%5D)">chooseBranch</a></span>&#8203;(<a href="ConditionalBranch.html" title="class in ptolemy.domains.csp.kernel">ConditionalBranch</a>[]&nbsp;branches)</code></th>
<td class="colLast">
<div class="block">Determine which branch succeeds with a rendezvous.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.ptolemy.domains.csp.kernel.AbstractBranchController">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;ptolemy.domains.csp.kernel.<a href="AbstractBranchController.html" title="class in ptolemy.domains.csp.kernel">AbstractBranchController</a></h3>
<code><a href="AbstractBranchController.html#_branchBlocked(ptolemy.domains.csp.kernel.CSPReceiver)">_branchBlocked</a>, <a href="AbstractBranchController.html#_branchUnblocked(ptolemy.domains.csp.kernel.CSPReceiver)">_branchUnblocked</a>, <a href="AbstractBranchController.html#_debug(java.lang.String)">_debug</a>, <a href="AbstractBranchController.html#_getDirector()">_getDirector</a>, <a href="AbstractBranchController.html#addDebugListener(ptolemy.kernel.util.DebugListener)">addDebugListener</a>, <a href="AbstractBranchController.html#getParent()">getParent</a>, <a href="AbstractBranchController.html#removeDebugListener(ptolemy.kernel.util.DebugListener)">removeDebugListener</a>, <a href="AbstractBranchController.html#terminate()">terminate</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(ptolemy.actor.Actor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConditionalBranchController</h4>
<pre>public&nbsp;ConditionalBranchController&#8203;(<a href="../../../actor/Actor.html" title="interface in ptolemy.actor">Actor</a>&nbsp;container)</pre>
<div class="block">Construct a controller in the specified container, which should
  be an actor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>container</code> - The parent actor that contains this object.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="chooseBranch(ptolemy.domains.csp.kernel.ConditionalBranch[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chooseBranch</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;chooseBranch&#8203;(<a href="ConditionalBranch.html" title="class in ptolemy.domains.csp.kernel">ConditionalBranch</a>[]&nbsp;branches)
                 throws <a href="../../../kernel/util/IllegalActionException.html" title="class in ptolemy.kernel.util">IllegalActionException</a></pre>
<div class="block">Determine which branch succeeds with a rendezvous. This method is
  central to nondeterministic rendezvous. It is given an array
  of branches, each element of which represents one of the
  conditional rendezvous branches. If the guard for the branch is
  false, then the branch is not enabled.  It returns the ID of
  the successful branch, or -1 if none of the branches is enabled.
  <p>
  If exactly one branch is enabled, then the communication is
  performed directly and the id of the enabled branch  is returned.
  If more than one branch is enabled, a thread  is created and
  started for each enabled branch. These threads try to
  rendezvous until one succeeds. After a thread succeeds the
  other threads are killed, and the id of the successful
  branch is returned.
  <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>branches</code> - The set of conditional branches involved.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ID of the successful branch, or -1 if none of the
   branches is enabled.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../kernel/util/IllegalActionException.html" title="class in ptolemy.kernel.util">IllegalActionException</a></code> - If the rendezvous fails
   (e.g. because of incompatible types).</dd>
</dl>
</li>
</ul>
<a id="_branchFailed(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_branchFailed</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;_branchFailed&#8203;(int&nbsp;branchNumber)</pre>
<div class="block">Register the calling branch as failed. This reduces the count
  of active branches, and if all the active branches have
  finished, it notifies the internal lock so any threads
  that are blocked on it can continue.
  This is called by a conditional branch just before it dies.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="AbstractBranchController.html#_branchFailed(int)">_branchFailed</a></code>&nbsp;in class&nbsp;<code><a href="AbstractBranchController.html" title="class in ptolemy.domains.csp.kernel">AbstractBranchController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>branchNumber</code> - The ID assigned to the calling branch
   upon creation.</dd>
</dl>
</li>
</ul>
<a id="_branchNotReady(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_branchNotReady</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;_branchNotReady&#8203;(int&nbsp;branchNumber)</pre>
<div class="block">Release the status of the calling branch as the first branch
  to be ready to rendezvous. This method is only called when both
  sides of a communication at a receiver are conditional. In
  this case, both of the branches have to be the first branches,
  for their respective actors, for the rendezvous to go ahead. If
  one branch registers as being first, for its actor, but the
  other branch cannot, then the status of the first branch needs
  to be released to allow other branches the possibility of succeeding.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="AbstractBranchController.html#_branchNotReady(int)">_branchNotReady</a></code>&nbsp;in class&nbsp;<code><a href="AbstractBranchController.html" title="class in ptolemy.domains.csp.kernel">AbstractBranchController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>branchNumber</code> - The ID assigned to the branch upon creation.</dd>
</dl>
</li>
</ul>
<a id="_branchSucceeded(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_branchSucceeded</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;_branchSucceeded&#8203;(int&nbsp;branchID)</pre>
<div class="block">Registers the calling branch as the successful branch. It
  reduces the count of active branches, and notifies chooseBranch()
  that a branch has succeeded. The chooseBranch() method then
  proceeds to terminate the remaining branches. It is called by
  the first branch that succeeds with a rendezvous.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="AbstractBranchController.html#_branchSucceeded(int)">_branchSucceeded</a></code>&nbsp;in class&nbsp;<code><a href="AbstractBranchController.html" title="class in ptolemy.domains.csp.kernel">AbstractBranchController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>branchID</code> - The ID assigned to the calling branch upon creation.</dd>
</dl>
</li>
</ul>
<a id="_isBranchReady(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_isBranchReady</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;_isBranchReady&#8203;(int&nbsp;branchNumber)</pre>
<div class="block">Called by ConditionalSend and ConditionalReceive to check whether
  the calling branch is the first branch to be ready to rendezvous.
  If it is, this method sets a private variable to its branch ID so that
  subsequent calls to this method by other branches know that they
  are not first.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="AbstractBranchController.html#_isBranchReady(int)">_isBranchReady</a></code>&nbsp;in class&nbsp;<code><a href="AbstractBranchController.html" title="class in ptolemy.domains.csp.kernel">AbstractBranchController</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>branchNumber</code> - The ID assigned to the calling branch
   upon creation.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the calling branch is the first branch to try
   to rendezvous, otherwise false.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
