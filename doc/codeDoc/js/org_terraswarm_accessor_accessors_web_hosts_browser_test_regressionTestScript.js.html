<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: org/terraswarm/accessor/accessors/web/hosts/browser/test/regressionTestScript.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: org/terraswarm/accessor/accessors/web/hosts/browser/test/regressionTestScript.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Automatic test script for the browser host, using node.js execution platform.
//
// Copyright (c) 2016-2017 The Regents of the University of California.
// All rights reserved.
//
// Permission is hereby granted, without written agreement and without
// license or royalty fees, to use, copy, modify, and distribute this
// software and its documentation for any purpose, provided that the above
// copyright notice and the following two paragraphs appear in all copies
// of this software.
//
// IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY
// FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES
// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF
// THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF
// SUCH DAMAGE.
//
// THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES,
// INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE
// PROVIDED HEREUNDER IS ON AN "AS IS" BASIS, AND THE UNIVERSITY OF
// CALIFORNIA HAS NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES,
// ENHANCEMENTS, OR MODIFICATIONS.
//

/** Automatic test script for the browser host, using node.js execution platform.
 *  This script:
 *  Starts the test server (for serving accessor files),
 *  Loads and runs composite accessor test files,
 *  Loads and runs Mocha test files,
 *  And saves the result to a file.
 *
 *  The script will search for an open port to start the test server on.
 *  This script currently requires the Firefox browser.
 *
 *  To run:
 *  1. Install the selenium-webdriver module:
 *     npm install -g selenium-webdriver
 *
 *  2. Create the ../../../../reports/junit directory:
 *     mkdir -p ../../../../reports/junit
 *
 *  3. Run the tests:
 *     node regressionTestScript.js
 *
 *  The Firefox driver is installed by default.  For other browsers, install
 *  the driver and edit the script to refer to your preferred browser.
 *  NOTE:  The default driver is NOT compatible with Firefox versions 47 and up.
 *  https://www.npmjs.com/package/selenium-webdriver
 *
 *  Results will be printed to the console, and saved at:
 *  /accessors/web/reports/junit/browserTestResults.xml
 *
 *  For more details and examples, please see the wiki:
 *  https://www.icyphy.org/accessors/wiki/Version0/RegressionTesting
 *
 *  @module @accessors-hosts/browser/test/regressionTestScript
 *  @author Beth Osyk
 *  @version $$Id$$
 */

var childProcess = require('child_process');
var fs = require('fs');
var util = require('util');
var EventEmitter = require('events').EventEmitter;

var startPort = 8089;

/** A class for running regression tests in the browser.  This class starts a
 *  web server, starts the selenium browser driver, then runs tests in the
 *  accessor tree.  Please see:
 *  https://www.icyphy.org/accessors/wiki/Version0/RegressionTesting
 */
var RegressionTester = (function () {

    // /test/auto/mocha directories contain Mocha test files.
    // For these, a Test accessor is instantiated to load the file.

    // /test/auto directories contain composite accessors which
    // constitute tests.  These are instantiated and run.  Lack of
    // exception means pass.

    // TODO:  Search for matching directories instead of hardcoding names.
    var resultsFilePath = "../../../reports/junit/browserTestResults.xml";
    
    var compositeDirs = ["test/auto"];
    var mochaDirs = ["hosts/browser/test/auto/mocha", "net/test/auto/mocha"];
    var accessors = [];
    var filenames = [],
        testNames = [];

    var compositeResults = [];
    var compositeFailureCount = 0;
    var mochaResults = [];

    var port = 8089;
    var maxPort = 8200;

    var process;
    var runTimeLimit = 10000; // Run time limit for composite accessors under test.
    var waitTimeLimit = 5000; // Amount of time to wait for a react to inputs button.

    var webdriver = require('selenium-webdriver'),
        By = require('selenium-webdriver').By,
        until = require('selenium-webdriver').until;

    var driver = new webdriver.Builder()
        .forBrowser('firefox')
        .build();

    var compositeTester;
    var mochaTester;

    /** A class for running composite accessor tests.
     *
     */
    function CompositeTester() {
        // Call super constructor.
        EventEmitter.call(this);
    };
    util.inherits(CompositeTester, EventEmitter);

    /** Run all composite accessor tests in the directories specified.
     * Emit a 'complete' event when finished.
     *
     * @param dirs Directories containing composite accessor tests.
     */
    CompositeTester.prototype.run = function (dirs) {
        accessors = getFileNames(dirs);
        compositeFailureCount = 0;
        compositeResults = [];

        // Run tests sequentially.
        this.runNextTest(0, port);
    }

    /** Run a test, waiting until the previous test has completed.  This allows
     * running tests sequentially so that only one browser driver instance is
     * needed.  If this is too slow, in the future, we could use a pool of
     * drivers or consider Selenium Grid.  Recursive.
     * http://www.seleniumhq.org/projects/grid/
     *
     * @param count  The array index of the test.
     * @param accessors  An array of composite accessors to test.
     * @param driver  The browser driver.
     */
    CompositeTester.prototype.runNextTest = function (count, port) {
        var self = this;

        var testPromise = new Promise(function (resolve, reject) {

            if (accessors.length &lt; 1) {
                resolve('No accessors');
            } else {
                var testAccessor = accessors[count].name;

                // Write an HTML file that instantiates the accessor.
                // Reloading the page for each accessor will wrapup any
                // previously instantiated accessors.

                var beginText = "&lt;!DOCTYPE html> \n" +
                    "&lt;html lang=\"en\"> \n" +
                    "&lt;head>\n" +
                    "&lt;meta charset=\"utf-8\"> \n" +
                    "&lt;title>Composite Test Template &lt;/title> \n" +
                    "&lt;!-- Load accesor stylesheet and browser host. --> \n" +
                    "&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/accessors/hosts/browser/accessorStyle.css\"> \n" +
                    "&lt;script src=\"/accessors/hosts/browser/browser.js\">&lt;/script>" +
                    "&lt;/head>" +
                    "&lt;body>";

                var divText = "";

                var endText = "&lt;/body> \n" +
                    "&lt;/html>";

                divText = "&lt;div class=\"accessor\" " +
                    "src=\"" + testAccessor + "\" " +
                    "id=\"" + testAccessor + "\">&lt;/div>";

                fs.writeFile('compositeTest.html', beginText + divText + endText, function (err) {
                    if (err) {
                        reject('Error instantiating ' + testAccessor);
                    } else {
                        driver.get("http://localhost:" + port + "/accessors/hosts/browser/test/compositeTest.html");

                        // Wait until page has loaded, then click react to
                        // inputs (if present).
                        driver.wait(function () {
                            return driver.findElements(By.id('reactToInputs'));
                        }, waitTimeLimit).then(function () {
                            driver.findElement(By.id('reactToInputs')).click();
                        }).catch(function (err) {
                            // This is OK.  Not all accessors have a
                            // reactToInputs button (e.g. spontaneous).
                        });

                        // Let the accessor run for the specified time.
                        // TODO:  How to define when accessor is done?
                        setTimeout(function () {
                            // This returns an array of any found elements.
                            driver.findElements(By.className('accessorError'))
                                .then(function (found) {
                                    if (found.length > 0) {
                                        compositeFailureCount++;
                                        console.log(testAccessor + ' failed');

                                        driver.findElement(By.className('accessorError')).getText().then(function (text) {
                                            compositeResults.push({
                                                accessor: testAccessor,
                                                directory: accessors[count].directory,
                                                message: text,
                                                passed: false
                                            });
                                            resolve(testAccessor + ' failed');
                                        }).catch(function (err) {
                                            console.log(err);
                                            compositeResults.push({
                                                accessor: testAccessor,
                                                directory: accessors[count].directory,
                                                message: 'Unknown failure',
                                                passed: false
                                            });
                                            resolve(testAccessor + ' failed');
                                        });

                                    } else {
                                        console.log(testAccessor + " passed");
                                        compositeResults.push({
                                            accessor: testAccessor,
                                            directory: accessors[count].directory,
                                            message: 'passed',
                                            passed: true
                                        });
                                        resolve(testAccessor + ' passed');
                                    }
                                }, function () {
                                    console.log(testAccessor + " passed");
                                    compositeResults.push({
                                        accessor: testAccessor,
                                        directory: accessors[count].directory,
                                        message: 'passed',
                                        passed: true
                                    });
                                    resolve(testAccessor + ' passed');
                                });
                        }, runTimeLimit);
                    }
                });
            }
        }).then(function () {
            if (count &lt; accessors.length - 1) {
                self.runNextTest(count + 1, port);
            } else {
                // Delete the temporary file.
                fs.stat('compositeTest.html', function (err) {
                    if (err) {
                        // OK.  Might not be any composite tests.
                    } else {
                        fs.unlink('compositeTest.html');
                    }
                });
                self.emit('complete');
            }
        }).catch(function (err) {
            console.log('Error running tests ' + err);
        });
    }

    /** A class for running mocha test files.
     *
     */
    function MochaTester() {
        // Call super constructor.
        EventEmitter.call(this);

    };
    util.inherits(MochaTester, EventEmitter);

    /** Run all mocha tests in the directories specified.
     * Emit a 'complete' event when finished.
     *
     * @param dirs Directories containing mocha tests.
     */
    MochaTester.prototype.run = function (dirs) {
        mochaResults = [];

        testNames = getFileNames(dirs);

        if (testNames.length > 0) {
            this.runNextTest(0, port);
        } else {
            this.emit('complete');
        }
    };

    /** Run a Mocha test, waiting until the previous test has completed, using
     * the specified port on localhost to request accessor files.  This allows
     * running tests sequentially so that only one browser driver instance is
     * needed.  Recursive.
     *
     *  @param count The index of the next test file in the testNames array.
     *  @param port The port on localhost to request accessor files from.
     */
    MochaTester.prototype.runNextTest = function (count, port) {
        var self = this;
        var testName = testNames[count].name;

        var testPromise = new Promise(function (resolve, reject) {

            driver.get("http://localhost:" + port + "/accessors/hosts/browser/test/regressionTest.html");

        	driver.wait(until.elementLocated(By.id('reactToInputs')), 5000).
        		then(function() {
            
                // Set test file name and output URL, including the port.
        		// The sendKeys method for filling form fields is broken in 
        		// Selenium 3.4.  Use executeScript instead.
        		// https://github.com/mozilla/geckodriver/issues/683
        			
        		var scriptString = 'document.getElementById(\'MochaTest.testFile\').value=\'/accessors/' + testName + '\'';
        		//driver.findElement(By.id('MochaTest.testFile')).sendKeys('/accessors/' + testName);
        		driver.findElement(By.id('MochaTest.testFile')).clear();
                driver.executeScript(scriptString);
                driver.findElement(By.id('reactToInputs')).click();

                driver.wait(until.elementLocated(By.id('MochaTest.result')),
                    10000).then(function (element) {

                    driver.wait(until.elementTextContains(element, 'xml'), 10000)
                        .then(function (element) {

                            element.getText().then(function (text) {
                                mochaResults.push({
                                    'testName': testName,
                                    'directory': testNames[count].directory,
                                    'result': text
                                });

                                // Check for any failures.
                                if (text.indexOf("&lt;failure") > 0) {
                                    resolve('failed');
                                } else {
                                    resolve('passed');
                                }
                            }).catch(function (err) {
                                console.log(testName + ' failed');
                                console.log('Error: Result text not found.');
                                reject('Error: Result text not found.');
                            });

                        }).catch(function (err) {
                            console.log(err);
                            reject('Error: Cannot retrieve result text.');
                        });
                }).catch(function (err) {
                    console.log(testName + ' failed');
                    console.log(err);
                    reject('Error: Result element not found.');
                });

            }).catch(function (err) {
                // Mocha tests should always have a react to inputs button, for
                // the file name input.
                console.log(testName + ' failed');
                //reject('Error: No react to inputs button.');
                console.log('Error: No react to inputs button');
                resolve('failed');
            }); // end wait until page has loaded
        }).then(function (outcome) {
            if (outcome.indexOf('passed') >= 0) {
                console.log(testName + ' passed');
            } else {
                console.log(testName + ' failed');
            }

            if (count &lt; testNames.length - 1) {
                self.runNextTest(count + 1, port);
            } else {
                self.emit('complete');
            }
        }).catch(function (err) {
            console.log(testName + ' failed');
            console.log(err);
            self.emit('error');
        });

    };

    /** Return file names in the given directories.
     *
     * @param dirs The directories to return filenames from.
     */
    function getFileNames(dirs) {

        var fileNames = [];
        var validNames = [];

        dirs.forEach(function (directory) {

            try {
                // Assumes run from accessors/web/hosts/browser/test
                fileNames = fs.readdirSync('../../../' + directory);
                fileNames.forEach(function (name) {
                    if (name.length > 3 &amp;&amp; name.indexOf('.') > 0 &amp;&amp;
                        name.substring(0, 4) != '.svn' &amp;&amp;
                        name.substring(0, 4) != '.log') {
                        validNames.push({
                            'directory': directory,
                            'name': directory + "/" + name
                        });
                    }
                });

            } catch (e) {
                console.log('Error reading directory ' + directory + '. Please run from accessors/web/hosts/browser/test: ' + e);
            }
        });
        return validNames;
    }

    /** Run the test server script, executing the given callback once the script
     * From http://stackoverflow.com/questions/22646996/how-do-i-run-a-node-js-script-from-within-another-node-js-script
     *
     * @param scriptPath The full path of the testServer script.
     * @param port The port to start the server on.
     */

    var run = function (scriptPath, desiredPort) {

        port = desiredPort;
        process = childProcess.fork(scriptPath, [port]);

        compositePasses = []; // An array of accessor names.
        compositeFailures = []; // And array of objects {accessor, message}.

        compositeTester = new CompositeTester(compositeDirs);
        mochaTester = new MochaTester();


        // Check for port in use error.  If this happens, increment the port and
        // try again.
        process.on('message', function (message) {
            if (message === 'listening') {

                // Run composite accessor tests.  Lack of an exception means
                // pass.  Mocha tests will be run upon completion.
                compositeTester.run(compositeDirs);

            } else if (message === 'portError') {
                if (port &lt; maxPort) {
                    run(scriptPath, port + 1);
                } else {
                    throw Error('Regression test cannot find open port after maximum tries.');
                }
            }
        });

        // Register an event handler to run Mocha tests upon completion of
        // composite accessor tests.
        compositeTester.on('complete', function () {
            mochaTester.run(mochaDirs);
        }).on('error', function (err) {
            console.log(err);
            driver.quit();
            process.kill('SIGINT');
        });

        // Register an event handler to close the driver upon test completion.
        mochaTester.on('complete', function () {
            driver.quit();
            process.kill('SIGINT');
            writeResults();
        }).on('error', function (err) {
            console.log(err);
            driver.quit();
            process.kill('SIGINT');
        });

    };

    /** Write the results to the results file path.  
     */
    var writeResults = function () {
        var writeStream = fs.createWriteStream(resultsFilePath);
        writeStream.on('error', function (error) {
        	// If error, try to create the directory.
        	var dir = resultsFilePath.substring(0, resultsFilePath.length - 22);
        	console.log('Making directory ' + dir);
        	fs.mkdir(dir, function() {
        		writeStream = fs.createWriteStream(resultsFilePath);
            	writeStream.on('error', function(error)  {
            		console.log('Error opening file for writing: ' + resultsFilePath);
            	});
            	writeStream.on('open', doWrite);
        	});
        });
        
        writeStream.on('open', doWrite);
        
        function doWrite() {
            var testCount = 0;
            var failureCount = 0;

            var compositeDirResults = {};
            var mochaDirResults = {};

            // Count total number of tests and number of failed tests,
            // both overall and in each directory.
            compositeResults.forEach(function (resultObject) {
                if (!compositeDirResults.hasOwnProperty(resultObject.directory)) {
                    compositeDirResults[resultObject.directory] = {
                        'total': 0,
                        'failed': 0
                    };
                }

                compositeDirResults[resultObject.directory].total += 1;
                if (resultObject.message !== 'passed') {
                    compositeDirResults[resultObject.directory].failed += 1;
                }
            });

            mochaResults.forEach(function (resultObject) {
                var testIncrement = (resultObject.result.match(/&lt;testcase/g) || []).length;
                var failureIncrement = (resultObject.result.match(/&lt;failure/g) || []).length;

                testCount += testIncrement;
                failureCount += failureIncrement;

                if (!mochaDirResults.hasOwnProperty(resultObject.directory)) {
                    mochaDirResults[resultObject.directory] = {
                        'total': 0,
                        'failed': 0
                    };
                }

                mochaDirResults[resultObject.directory].total += testIncrement;
                mochaDirResults[resultObject.directory].failed += failureIncrement;
            });

            testCount += compositeResults.length;
            failureCount += compositeFailureCount;

            // Write as a single test suite.  It appears Jenkins can't handle
            // nested test suites, though JUnit allows nesting.
            writeStream.write("&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?>\n");

            writeStream.write("&lt;testsuites name=\"BrowserHost\" tests=\"" +
                testCount + "\" failed=\"" +
                failureCount + "\">\n");

            if (compositeResults.length > 0) {
                var firstDirectory = true;

                compositeResults.forEach(function (result) {
                    if (compositeDirResults.hasOwnProperty(result.directory)) {
                        if (!firstDirectory) {
                            writeStream.write("&lt;/testsuite>\n");
                        }
                        firstDirectory = false;
                        writeStream.write("&lt;testsuite name=\"" +
                            result.directory + "\" tests=\"" +
                            compositeDirResults[result.directory].total +
                            "\" failed=\"" +
                            compositeDirResults[result.directory].failed +
                            "\">");

                        delete compositeDirResults[result.directory];
                    }

                    writeStream.write("&lt;testcase name=\"" + result.accessor +
                        "\" classname=\"BrowserHost\">\n");
                    if (!result.passed) {
                        writeStream.write("&lt;failure message=\"" + result.message +
                            "\"/>\n");
                    }
                    writeStream.write("&lt;/testcase>\n");
                });
                writeStream.write("&lt;/testsuite>\n");
            }

            if (mochaResults.length > 0) {
                // Mocha results are already in XML format.  Extract needed portion.
                var beginIndex = 0;
                var endIndex = 0;
                mochaResults.forEach(function (resultObject) {

                    // Write to file everything in between
                    // &lt;testsuite name="BrowserHost" ... > and last instance of
                    // &lt;/testsuite>
                    // Find first instance of &lt;testsuite> and last instance of
                    // &lt;/testsuites>.  Copy everything in between.
                    beginIndex = resultObject.result.indexOf("&lt;testsuite name=\"BrowserHost\"");
                    if (beginIndex > 0) {
                        beginIndex = resultObject.result.indexOf(">", beginIndex);
                        if (beginIndex > 0) {
                            endIndex = resultObject.result.lastIndexOf("&lt;/testsuite>");
                            if (endIndex > 0) {
                                // TODO:  Add number of failures to first testsuite object.
                                // Number of failures is recorded in mochaDirResults[resultObject.directory].failed
                                writeStream.write(resultObject.result.substring(beginIndex + 1, endIndex));
                            }
                        }
                    }
                });
            }

            writeStream.write("&lt;/testsuites>\n"); // Closing tag BrowserHost
        }
  
    };

    return {
        run: run
    };
}());

RegressionTester.run('./testServer.js', startPort);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Accessors</h3><ul><li><a href="accessor-adapters_Adapter.html">adapters/Adapter</a></li><li><a href="accessor-adapters_CelsiusToFahrenheit.html">adapters/CelsiusToFahrenheit</a></li><li><a href="accessor-adapters_Identity.html">adapters/Identity</a></li><li><a href="accessor-adapters_KelvinToFahrenheit.html">adapters/KelvinToFahrenheit</a></li><li><a href="accessor-audio_AudioCapture.html">audio/AudioCapture</a></li><li><a href="accessor-audio_AudioPlayer.html">audio/AudioPlayer</a></li><li><a href="accessor-audio_ClipPlayer.html">audio/ClipPlayer</a></li><li><a href="accessor-audioIo_AudioIoCapture.html">audioIo/AudioIoCapture</a></li><li><a href="accessor-audioIo_AudioIoPlay.html">audioIo/AudioIoPlay</a></li><li><a href="accessor-audioIo_AudioIoWavFile.html">audioIo/AudioIoWavFile</a></li><li><a href="accessor-cameras_Camera.html">cameras/Camera</a></li><li><a href="accessor-cameras_Foscam.html">cameras/Foscam</a></li><li><a href="accessor-contextAware_contextAware.html">contextAware/contextAware</a></li><li><a href="accessor-contextAware_contextAwareTest.html">contextAware/contextAwareTest</a></li><li><a href="accessor-dashboard_GraphComponent.html">dashboard/GraphComponent</a></li><li><a href="accessor-dashboard_RestaurantComponent.html">dashboard/RestaurantComponent</a></li><li><a href="accessor-dashboard_RoutingWebSocketServer.html">dashboard/RoutingWebSocketServer</a></li><li><a href="accessor-dashboard_SpeedometerComponent.html">dashboard/SpeedometerComponent</a></li><li><a href="accessor-dashboard_UIComponent.html">dashboard/UIComponent</a></li><li><a href="accessor-dashboard_VideoComponent.html">dashboard/VideoComponent</a></li><li><a href="accessor-deterministicTemporalSemantics_SpontaneousAperiodic.html">deterministicTemporalSemantics/SpontaneousAperiodic</a></li><li><a href="accessor-deterministicTemporalSemantics_SpontaneousPeriodic.html">deterministicTemporalSemantics/SpontaneousPeriodic</a></li><li><a href="accessor-devices_AdsB.html">devices/AdsB</a></li><li><a href="accessor-devices_DrDose.html">devices/DrDose</a></li><li><a href="accessor-devices_EcSensor.html">devices/EcSensor</a></li><li><a href="accessor-devices_Hue.html">devices/Hue</a></li><li><a href="accessor-devices_Lifx.html">devices/Lifx</a></li><li><a href="accessor-devices_Moto360SensorListener.html">devices/Moto360SensorListener</a></li><li><a href="accessor-devices_PhSensor.html">devices/PhSensor</a></li><li><a href="accessor-geodesy_Lla2Ecef.html">geodesy/Lla2Ecef</a></li><li><a href="accessor-geodesy_LlaDist.html">geodesy/LlaDist</a></li><li><a href="accessor-HandlerWithSuppress.html">HandlerWithSuppress</a></li><li><a href="accessor-Hello.html">Hello</a></li><li><a href="accessor-image_AprilTags.html">image/AprilTags</a></li><li><a href="accessor-image_CharacterDetection.html">image/CharacterDetection</a></li><li><a href="accessor-image_ComputerVision.html">image/ComputerVision</a></li><li><a href="accessor-image_demo_TextFromCamera.html">image/demo/TextFromCamera</a></li><li><a href="accessor-image_FaceDetector.html">image/FaceDetector</a></li><li><a href="accessor-image_ImageAnnotate.html">image/ImageAnnotate</a></li><li><a href="accessor-image_ImageDisplay.html">image/ImageDisplay</a></li><li><a href="accessor-image_ImageFilter.html">image/ImageFilter</a></li><li><a href="accessor-image_MotionDetector.html">image/MotionDetector</a></li><li><a href="accessor-LifxAccessorTemplate.html">LifxAccessorTemplate</a></li><li><a href="accessor-localization_Location.html">localization/Location</a></li><li><a href="accessor-localization_mapRepo.html">localization/mapRepo</a></li><li><a href="accessor-mutable_MutableTestGain.html">mutable/MutableTestGain</a></li><li><a href="accessor-mutable_TestGain1.html">mutable/TestGain1</a></li><li><a href="accessor-mutable_TestGain2.html">mutable/TestGain2</a></li><li><a href="accessor-net_Discovery.html">net/Discovery</a></li><li><a href="accessor-net_IPAddress.html">net/IPAddress</a></li><li><a href="accessor-net_KeyValueStore.html">net/KeyValueStore</a></li><li><a href="accessor-net_MQTTPublisher.html">net/MQTTPublisher</a></li><li><a href="accessor-net_MQTTSubscriber.html">net/MQTTSubscriber</a></li><li><a href="accessor-net_REST.html">net/REST</a></li><li><a href="accessor-net_SecureCommClient.html">net/SecureCommClient</a></li><li><a href="accessor-net_SecureCommServer.html">net/SecureCommServer</a></li><li><a href="accessor-net_SecurePublisher.html">net/SecurePublisher</a></li><li><a href="accessor-net_SecureSubscriber.html">net/SecureSubscriber</a></li><li><a href="accessor-net_SerialPort.html">net/SerialPort</a></li><li><a href="accessor-net_TCPSocketClient.html">net/TCPSocketClient</a></li><li><a href="accessor-net_TCPSocketServer.html">net/TCPSocketServer</a></li><li><a href="accessor-net_UDPSocketListener.html">net/UDPSocketListener</a></li><li><a href="accessor-net_UDPSocketSender.html">net/UDPSocketSender</a></li><li><a href="accessor-net_VertxPublish.html">net/VertxPublish</a></li><li><a href="accessor-net_VertxSubscribe.html">net/VertxSubscribe</a></li><li><a href="accessor-net_WebServer.html">net/WebServer</a></li><li><a href="accessor-net_WebSocketClient.html">net/WebSocketClient</a></li><li><a href="accessor-net_WebSocketServer.html">net/WebSocketServer</a></li><li><a href="accessor-net_XBee.html">net/XBee</a></li><li><a href="accessor-PressureSensor.html">PressureSensor</a></li><li><a href="accessor-robotics_DroneLocation.html">robotics/DroneLocation</a></li><li><a href="accessor-robotics_GlobalPosition2LatLonAlt.html">robotics/GlobalPosition2LatLonAlt</a></li><li><a href="accessor-robotics_LocationRosPublisher.html">robotics/LocationRosPublisher</a></li><li><a href="accessor-robotics_RosPublisher.html">robotics/RosPublisher</a></li><li><a href="accessor-robotics_RosSubscriber.html">robotics/RosSubscriber</a></li><li><a href="accessor-robotics_Scarab.html">robotics/Scarab</a></li><li><a href="accessor-RosCommand.html">RosCommand</a></li><li><a href="accessor-ROSTeleoperation.html">ROSTeleoperation</a></li><li><a href="accessor-services_FFT.html">services/FFT</a></li><li><a href="accessor-services_FINDLocation.html">services/FINDLocation</a></li><li><a href="accessor-services_FINDTracker.html">services/FINDTracker</a></li><li><a href="accessor-services_GeoCoder.html">services/GeoCoder</a></li><li><a href="accessor-services_GeoLocation.html">services/GeoLocation</a></li><li><a href="accessor-services_Heartbeat.html">services/Heartbeat</a></li><li><a href="accessor-services_HostCompatability.html">services/HostCompatability</a></li><li><a href="accessor-services_NaturalLanguage.html">services/NaturalLanguage</a></li><li><a href="accessor-services_RedPinLocation.html">services/RedPinLocation</a></li><li><a href="accessor-services_ReverseGeoCoder.html">services/ReverseGeoCoder</a></li><li><a href="accessor-services_SemanticRepositoryQuery.html">services/SemanticRepositoryQuery</a></li><li><a href="accessor-services_SemanticRepositoryUpdate.html">services/SemanticRepositoryUpdate</a></li><li><a href="accessor-services_SemanticYelpSearch.html">services/SemanticYelpSearch</a></li><li><a href="accessor-services_SpeechRecognition.html">services/SpeechRecognition</a></li><li><a href="accessor-services_Weather.html">services/Weather</a></li><li><a href="accessor-services_WiFiScan.html">services/WiFiScan</a></li><li><a href="accessor-services_YelpSearch.html">services/YelpSearch</a></li><li><a href="accessor-SoundActuator.html">SoundActuator</a></li><li><a href="accessor-TemperatureSensor.html">TemperatureSensor</a></li><li><a href="accessor-test_Test.html">test/Test</a></li><li><a href="accessor-test_TestAccessor.html">test/TestAccessor</a></li><li><a href="accessor-test_TestAdder.html">test/TestAdder</a></li><li><a href="accessor-test_TestBaseC.html">test/TestBaseC</a></li><li><a href="accessor-test_TestComposite.html">test/TestComposite</a></li><li><a href="accessor-test_TestCompositeSpontaneous.html">test/TestCompositeSpontaneous</a></li><li><a href="accessor-test_TestDerivedAgainA.html">test/TestDerivedAgainA</a></li><li><a href="accessor-test_TestDerivedC.html">test/TestDerivedC</a></li><li><a href="accessor-test_TestFunctions.html">test/TestFunctions</a></li><li><a href="accessor-test_TestGain.html">test/TestGain</a></li><li><a href="accessor-test_TestImplement.html">test/TestImplement</a></li><li><a href="accessor-test_TestInheritance.html">test/TestInheritance</a></li><li><a href="accessor-test_TestRequire.html">test/TestRequire</a></li><li><a href="accessor-test_TestSpontaneous.html">test/TestSpontaneous</a></li><li><a href="accessor-test_TestSpontaneousOnce.html">test/TestSpontaneousOnce</a></li><li><a href="accessor-test_TestWebSocketClient.html">test/TestWebSocketClient</a></li><li><a href="accessor-test_TrainableTest.html">test/TrainableTest</a></li><li><a href="accessor-TestDerivedC.html">TestDerivedC</a></li><li><a href="accessor-TrafficLight.html">TrafficLight</a></li><li><a href="accessor-trusted_AccessorStatus.html">trusted/AccessorStatus</a></li><li><a href="accessor-tutorial_Hello.html">tutorial/Hello</a></li><li><a href="accessor-util_GetResource.html">util/GetResource</a></li><li><a href="accessor-utilities_Clock.html">utilities/Clock</a></li><li><a href="accessor-utilities_Cron.html">utilities/Cron</a></li><li><a href="accessor-utilities_Exec.html">utilities/Exec</a></li><li><a href="accessor-utilities_GetAccessor.html">utilities/GetAccessor</a></li><li><a href="accessor-utilities_LocalStorage.html">utilities/LocalStorage</a></li><li><a href="accessor-utilities_MutableBase.html">utilities/MutableBase</a></li><li><a href="accessor-utilities_Stop.html">utilities/Stop</a></li><li><a href="accessor-utilities_TextDisplay.html">utilities/TextDisplay</a></li><li><a href="accessor-utility_HostName.html">utility/HostName</a></li><li><a href="accessor-VibrationSensor.html">VibrationSensor</a></li><li><a href="MessageBoard.accessor_js.html">js</a></li><li><a href="utilities_UserInterface.accessor_js.html">js</a></li></ul><h3>Modules</h3><ul><li><a href="module-@accessor-hosts_browser.html">@accessor-hosts/browser</a></li><li><a href="module-@accessors-hosts_browser_demo_tutorial.html">@accessors-hosts/browser/demo/tutorial</a></li><li><a href="module-@accessors-hosts_browser_test_regressionTestScript.html">@accessors-hosts/browser/test/regressionTestScript</a></li><li><a href="module-@accessors-hosts_common_deterministicTemporalSemantics.html">@accessors-hosts/common/deterministicTemporalSemantics</a></li><li><a href="module-@accessors-hosts_common_modules_hostHelper.html">@accessors-hosts/common/modules/hostHelper</a></li><li><a href="module-@accessors-hosts_common_modules_ontology.html">@accessors-hosts/common/modules/ontology</a></li><li><a href="module-@accessors-hosts_common_modules_util.html">@accessors-hosts/common/modules/util</a></li><li><a href="module-@accessors-hosts_common_sync-atom.html">@accessors-hosts/common/sync-atom</a></li><li><a href="module-@accessors-hosts_commonHost.html">@accessors-hosts/commonHost</a></li><li><a href="module-@accessors-hosts_duktapeHost.html">@accessors-hosts/duktapeHost</a></li><li><a href="module-@accessors-hosts_node_nodeHostInvoke.html">@accessors-hosts/node/nodeHostInvoke</a></li><li><a href="module-@accessors-hosts_node_nodeHostShell.html">@accessors-hosts/node/nodeHostShell</a></li><li><a href="module-@accessors-hosts_node_test_mocha_testNodeAllAuto.html">@accessors-hosts/node/test/mocha/testNodeAllAuto</a></li><li><a href="module-@accessors-hosts_node_test_testNodeAuto.html">@accessors-hosts/node/test/testNodeAuto</a></li><li><a href="module-@accessors-hosts_nodeHost.html">@accessors-hosts/nodeHost</a></li><li><a href="module-@accessors-modules_cameras.html">@accessors-modules/cameras</a></li><li><a href="module-@accessors-modules_discovery.html">@accessors-modules/discovery</a></li><li><a href="module-@accessors-modules_http-client.html">@accessors-modules/http-client</a></li><li><a href="module-@accessors-modules_http-server.html">@accessors-modules/http-server</a></li><li><a href="module-@accessors-modules_image-display.html">@accessors-modules/image-display</a></li><li><a href="module-@accessors-modules_iot-auth.html">@accessors-modules/iot-auth</a></li><li><a href="module-@accessors-modules_local-storage.html">@accessors-modules/local-storage</a></li><li><a href="module-@accessors-modules_serial.html">@accessors-modules/serial</a></li><li><a href="module-@accessors-modules_socket.html">@accessors-modules/socket</a></li><li><a href="module-@accessors-modules_text-display.html">@accessors-modules/text-display</a></li><li><a href="module-@accessors-modules_udp-socket.html">@accessors-modules/udp-socket</a></li><li><a href="module-@accessors-modules_web-socket-client.html">@accessors-modules/web-socket-client</a></li><li><a href="module-@accessors-modules_web-socket-server.html">@accessors-modules/web-socket-server</a></li><li><a href="module-accessorMap.html">accessorMap</a></li><li><a href="module-accessorMapCapeCode.html">accessorMapCapeCode</a></li><li><a href="module-aprilTags.html">aprilTags</a></li><li><a href="module-audio.html">audio</a></li><li><a href="module-ble.html">ble</a></li><li><a href="module-buffer.html">buffer</a></li><li><a href="module-camera.html">camera</a></li><li><a href="module-capeCodeHost.html">capeCodeHost</a></li><li><a href="module-computerVision.html">computerVision</a></li><li><a href="module-console.html">console</a></li><li><a href="module-contextAware.html">contextAware</a></li><li><a href="module-cordova_modules_util.html">cordova/modules/util</a></li><li><a href="module-cordovaHost.html">cordovaHost</a></li><li><a href="module-crypto.html">crypto</a></li><li><a href="module-dataConverter.html">dataConverter</a></li><li><a href="module-discovery.html">discovery</a></li><li><a href="module-dsp.html">dsp</a></li><li><a href="module-duktape_modules_util.html">duktape/modules/util</a></li><li><a href="module-eventbus.html">eventbus</a></li><li><a href="module-faceDetector.html">faceDetector</a></li><li><a href="module-geolocation.html">geolocation</a></li><li><a href="module-http-client.html">http-client</a></li><li><a href="module-httpServer.html">httpServer</a></li><li><a href="module-imageDisplay.html">imageDisplay</a></li><li><a href="module-imageFilters.html">imageFilters</a></li><li><a href="module-IMUSensor.html">IMUSensor</a></li><li><a href="module-iotAuth.html">iotAuth</a></li><li><a href="module-lib_interfaces_common.html">lib/interfaces/common</a></li><li><a href="module-localFunctions.html">localFunctions</a></li><li><a href="module-localStorage.html">localStorage</a></li><li><a href="module-motionDetector.html">motionDetector</a></li><li><a href="module-mqtt.html">mqtt</a></li><li><a href="module-nashornHost.html">nashornHost</a></li><li><a href="module-objectAssign.html">objectAssign</a></li><li><a href="module-os.html">os</a></li><li><a href="module-sampleStatus.html">sampleStatus</a></li><li><a href="module-serial.html">serial</a></li><li><a href="module-shell.html">shell</a></li><li><a href="module-simpleMutable.html">simpleMutable</a></li><li><a href="module-socket.html">socket</a></li><li><a href="module-speechRecognition.html">speechRecognition</a></li><li><a href="module-status.html">status</a></li><li><a href="module-textDisplay.html">textDisplay</a></li><li><a href="module-udpSocket.html">udpSocket</a></li><li><a href="module-userInterface.html">userInterface</a></li><li><a href="module-web-socket-server.html">web-socket-server</a></li><li><a href="module-webSocket.html">webSocket</a></li><li><a href="module-webSocketClient.html">webSocketClient</a></li><li><a href="module-webSocketServer.html">webSocketServer</a></li><li><a href="module-wifiScanner.html">wifiScanner</a></li><li><a href="module-xbee.html">xbee</a></li><li><a href="swarmlet.module_js.html">js</a></li></ul><h3>Classes</h3><ul><li><a href="CoordinateSystem.html">CoordinateSystem</a></li><li><a href="Entity.html">Entity</a></li><li><a href="Map.html">Map</a></li><li><a href="MapSource.html">MapSource</a></li><li><a href="module-eventbus-VertxBus.html">VertxBus</a></li><li><a href="module-http-client-ClientRequest.html">ClientRequest</a></li><li><a href="module-http-client-IncomingMessage.html">IncomingMessage</a></li><li><a href="ObservationMetadata.html">ObservationMetadata</a></li><li><a href="Occupancy.html">Occupancy</a></li><li><a href="Placement.html">Placement</a></li><li><a href="Quaternion.html">Quaternion</a></li><li><a href="URL.html">URL</a></li></ul><h3>Namespaces</h3><ul><li><a href="addChainableMethod.html">addChainableMethod</a></li><li><a href="addMethod.html">addMethod</a></li><li><a href="addProperty.html">addProperty</a></li><li><a href="Assert.html">Assert</a></li><li><a href="BDD.html">BDD</a></li><li><a href="Expect.html">Expect</a></li><li><a href="expectTypes.html">expectTypes</a></li><li><a href="flag.html">flag</a></li><li><a href="getActual.html">getActual</a></li><li><a href="getEnumerableProperties.html">getEnumerableProperties</a></li><li><a href="getMessage.html">getMessage</a></li><li><a href="getName.html">getName</a></li><li><a href="getPathInfo.html">getPathInfo</a></li><li><a href="getPathValue.html">getPathValue</a></li><li><a href="getProperties.html">getProperties</a></li><li><a href="inspect.html">inspect</a></li><li><a href="overwriteChainableMethod.html">overwriteChainableMethod</a></li><li><a href="overwriteMethod.html">overwriteMethod</a></li><li><a href="overwriteProperty.html">overwriteProperty</a></li><li><a href="Should.html">Should</a></li><li><a href="test.html">test</a></li><li><a href="transferFlags.html">transferFlags</a></li><li><a href="Utils.html">Utils</a></li></ul><h3>Global</h3><ul><li><a href="global.html"></a></li><li><a href="global.html#accessors">accessors</a></li><li><a href="global.html#addObserver">addObserver</a></li><li><a href="global.html#assert">assert</a></li><li><a href="global.html#clearRepo">clearRepo</a></li><li><a href="global.html#coordinateTransformationsToJSONString">coordinateTransformationsToJSONString</a></li><li><a href="global.html#coordinateTransformationsToString">coordinateTransformationsToString</a></li><li><a href="global.html#createApplication">createApplication</a></li><li><a href="global.html#createApplicationDeprecated">createApplicationDeprecated</a></li><li><a href="global.html#createApplicationNew">createApplicationNew</a></li><li><a href="global.html#decode">decode</a></li><li><a href="global.html#drawMap">drawMap</a></li><li><a href="global.html#entitiesToJSONString">entitiesToJSONString</a></li><li><a href="global.html#entitiesToString">entitiesToString</a></li><li><a href="global.html#EventEmitter">EventEmitter</a></li><li><a href="global.html#express">express</a></li><li><a href="global.html#extractProtocol">extractProtocol</a></li><li><a href="global.html#findSignpost">findSignpost</a></li><li><a href="global.html#getCoordinateTransformation">getCoordinateTransformation</a></li><li><a href="global.html#getResource">getResource</a></li><li><a href="global.html#getSignposts">getSignposts</a></li><li><a href="global.html#grpc">grpc</a></li><li><a href="global.html#httpClient">httpClient</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#localRepoToJSONString">localRepoToJSONString</a></li><li><a href="global.html#lolcation">lolcation</a></li><li><a href="global.html#mapsToJSONString">mapsToJSONString</a></li><li><a href="global.html#mapsToString">mapsToString</a></li><li><a href="global.html#nodeHost">nodeHost</a></li><li><a href="global.html#parseDataAudio">parseDataAudio</a></li><li><a href="global.html#publish">publish</a></li><li><a href="global.html#query">query</a></li><li><a href="global.html#querystring">querystring</a></li><li><a href="global.html#querystringify">querystringify</a></li><li><a href="global.html#registerAndReact">registerAndReact</a></li><li><a href="global.html#registerCoordinateTransformation">registerCoordinateTransformation</a></li><li><a href="global.html#registerEntity">registerEntity</a></li><li><a href="global.html#registerMap">registerMap</a></li><li><a href="global.html#replaceRepo">replaceRepo</a></li><li><a href="global.html#resolve">resolve</a></li><li><a href="global.html#rules">rules</a></li><li><a href="global.html#sayHelloImplementation">sayHelloImplementation</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#setup">setup</a></li><li><a href="global.html#SpaceTypeEnum">SpaceTypeEnum</a></li><li><a href="global.html#startEddystoneURLBeacon">startEddystoneURLBeacon</a></li><li><a href="global.html#stop">stop</a></li><li><a href="global.html#stopAll">stopAll</a></li><li><a href="global.html">stringify</a></li><li><a href="global.html#subscribe">subscribe</a></li><li><a href="global.html#Testing">Testing</a></li><li><a href="global.html#toString">toString</a></li><li><a href="global.html#unpublish">unpublish</a></li><li><a href="global.html#unsubscribe">unsubscribe</a></li><li><a href="global.html#useSampleAudioData">useSampleAudioData</a></li><li><a href="global.html#useSampleRFData">useSampleRFData</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.1-dev</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
