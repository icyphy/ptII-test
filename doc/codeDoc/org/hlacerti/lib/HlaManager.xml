<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="HlaManager" class="org.hlacerti.lib.HlaManager">
  <description>
This class implements a HLA Manager, which allows a Ptolemy model to&#10; participate in an HLA/CERTI Federation. The main goal is to allow a Ptolemy&#10; simulation to act as Federate in a Federation.&#10; &lt;p&gt;&#10; The High Level Architecture (HLA) [1][2] is a standard for distributed&#10; discrete-event simulation. A simulation in HLA is called an HLA&#10; Federation. A Federation is a collection of Federates, typically modeling&#10; components in a system, interconnected by a Run Time Infrastructure (RTI).&#10; &lt;/p&gt;&lt;p&gt;&#10; CERTI is an Open-Source middleware RTI compliant with HLA [NRS09] which&#10; manages every part of federation. It also ensures a real-time behavior of&#10; a federation execution. CERTI is implemented in C++ and bindings are&#10; provided as JCERTI for Java and PyHLA for Python. For more information see:&#10; &lt;a href=&quot;http://savannah.nongnu.org/projects/certi&quot; target=&quot;_top&quot;&gt;http://savannah.nongnu.org/projects/certi&lt;/a&gt;.&#10; &lt;/p&gt;&lt;p&gt;&#10; The &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt; attribute handles the time synchronization between&#10; Ptolemy model time and HLA logical time by implementing the &lt;a href=&quot;../../../ptolemy/actor/TimeRegulator.xml&quot;&gt;ptolemy.actor.TimeRegulator&lt;/a&gt;&#10; interface. It also manages objects that implement interfaces provided by&#10; JCERTI related to the Federation, Declaration, Object, and Time management&#10; areas in HLA (each management area provides a set of services).&#10; &lt;/p&gt;&lt;p&gt;&#10; Every HLA Federation has a Federation Object Model (FOM) defined in a .fed file.&#10; The FOM names the Federation and defines a set of classes that are used to&#10; communicate between federates. An &lt;a href=&quot;../../../org/hlacerti/lib/HlaPublisher.xml&quot;&gt;org.hlacerti.lib.HlaPublisher&lt;/a&gt; actor, given an input token,&#10; updates an attribute in an instance of such a class. An &lt;a href=&quot;../../../org/hlacerti/lib/HlaSubscriber.xml&quot;&gt;org.hlacerti.lib.HlaSubscriber&lt;/a&gt; actor&#10; subcribes to such updates and produces the new value on its output port each time&#10; the specified attribute is updated. The FOM is specified in a .fed file used by&#10; the RTI (e.g. by the RTIG process when using CERTI). More information is in [3] and:&#10; &lt;/p&gt;&lt;p&gt;&#10; &lt;a href=&quot;http://savannah.nongnu.org/projects/certi&quot; target=&quot;_top&quot;&gt;http://savannah.nongnu.org/projects/certi&lt;/a&gt;&#10; &lt;/p&gt;&lt;p&gt;&#10; To enable a Ptolemy model to be a Federate, it must contain an &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt;.&#10; The parameters of this manager specify the name of the federate (this Ptolemy model),&#10; the FOM file (a file with a .fed extension), and various parameters that control&#10; the style of communication.&#10; &lt;/p&gt;&lt;p&gt;&#10; The parameter &lt;i&gt;timeManagementService&lt;/i&gt; specifies one of Next Event Request (NER)&#10; or Time Advance Request (TAR), determining which of two available styles are used&#10; for time management.&#10; &lt;b&gt;FIXME: Describe these.&lt;/b&gt;&#10; If TAR is selected, then parameter &lt;i&gt;hlaTimeStep&lt;/i&gt; (displayed as&#10; &quot;Time Step for TAR&quot;) specifies the time step taken by each time advance.&#10; &lt;/p&gt;&lt;p&gt;&#10; &lt;b&gt;FIXME: What do &lt;i&gt;isTimeConstrained&lt;/i&gt; and &lt;i&gt;isTimeRegulator&lt;/i&gt; mean?&#10; The following description tells me nothing. It just turns their names into sentences:&lt;/b&gt;&#10; &lt;/p&gt;&lt;p&gt;&#10; &lt;i&gt;istimeConstrained&lt;/i&gt; is used to specify time-constrained Federate and&#10; &lt;i&gt;istimeRegulator&lt;/i&gt; to specify time-regulator Federate. The combination of&#10; both parameters is possible and is recommended.&#10; &lt;/p&gt;&lt;p&gt;&#10; The parameters, &lt;i&gt;hlaStepTime&lt;/i&gt; and &lt;i&gt;hlaLookAHead&lt;/i&gt;&#10; are used to specify HLA Timing attributes of a Federate.&#10; &lt;b&gt;FIXME: Meaning what?&lt;/b&gt;&#10; &lt;/p&gt;&lt;p&gt;&#10; The parameters &lt;i&gt;requireSynchronization&lt;/i&gt;, &lt;i&gt;synchronizationPointName&lt;/i&gt;&#10; and &lt;i&gt;isCreatorSyncPt&lt;/i&gt; are used to configure HLA synchronization point.&#10; This mechanism is usually used to synchronize the Federates, during their&#10; initialization, to avoid that Federates that only consume some HLA&#10; attributes finished their simulation before the other federates have started.&#10; &lt;i&gt;isCreatorSyncPt&lt;/i&gt; indicates if the Federate is the creator of the&#10; synchronization. Only one Federate can create the named synchronization&#10; point for the whole HLA Federation.&lt;/p&gt;&#10;&#10; &lt;p&gt;&lt;a href=&quot;../../../org/hlacerti/lib/HlaPublisher.xml&quot;&gt;org.hlacerti.lib.HlaPublisher&lt;/a&gt; and &lt;a href=&quot;../../../org/hlacerti/lib/HlaSubscriber.xml&quot;&gt;org.hlacerti.lib.HlaSubscriber&lt;/a&gt; actors are used to&#10; respectively publish and subscribe to HLA attributes. The name of those&#10; actors and their &lt;i&gt;classObjectHandle&lt;/i&gt; parameter have to match the&#10; identifier of the shared HLA attributes and their object class that they&#10; belong to, specified in the FOM (.fed file).&lt;/p&gt;&#10;&#10; &lt;p&gt;For a correct execution, the &lt;i&gt;CERTI_HOME&lt;/i&gt; environment variable has to&#10; be set. It could be set in the shell (by running one of the scripts provided&#10; by CERTI) where Vergil is executed, or as a parameter of the Ptolemy model&#10; or as a parameter of the &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt;:&lt;/p&gt;&#10; &lt;pre&gt;&#10; CERTI_HOME=&quot;/absolute/path/to/certi/&quot;&#10; &lt;/pre&gt;&#10;&#10; &lt;p&gt;Otherwise, the current implementation is not able to find the CERTI&#10; environment, the RTIG binary and to perform its execution. See also&#10; the &lt;a href=&quot;../../../org/hlacerti/lib/CertiRtig.xml&quot;&gt;org.hlacerti.lib.CertiRtig&lt;/a&gt; class.&lt;/p&gt;&#10;&#10; &lt;p&gt;NOTE: For a correct behavior CERTI has to be compiled with the option&#10; &quot;CERTI_USE_NULL_PRIME_MESSAGE_PROTOCOL&quot;&#10; &lt;/p&gt;&#10;&#10; &lt;p&gt;&lt;b&gt;References&lt;/b&gt;:&lt;/p&gt;&#10;&#10; &lt;p&gt;[1] Dpt. of Defense (DoD) Specifications, &quot;High Level Architecture Interface&#10;     Specification, Version 1.3&quot;, DOD/DMSO HLA IF 1.3, Tech. Rep., Apr 1998.&lt;/p&gt;&#10; &lt;p&gt;[2] IEEE, &quot;IEEE standard for modeling and simulation High Level Architecture&#10;     (HLA)&quot;, IEEE Std 1516-2010, vol. 18, pp. 1-38, 2010.&lt;/p&gt;&#10; &lt;p&gt;[3] D. of Defense (DoD) Specifications, &quot;High Level Architecture Object Model&#10;     Template, Version 1.3&quot;, DOD/DMSO OMT 1.3, Tech. Rep., Feb 1998.&lt;/p&gt;&#10; &lt;p&gt;[4] E. Noulard, J.-Y. Rousselot, and P. Siron, &quot;CERTI, an open source RTI,&#10;     why and how ?&quot;, Spring Simulation Interoperability Workshop, pp. 23-27,&#10;     Mar 2009.&lt;/p&gt;&#10; &lt;p&gt;[5] Y. Li, J. Cardoso, and P. Siron, &quot;A distributed Simulation Environment for&#10;     Cyber-Physical Systems&quot;, Sept 2015.&lt;/p&gt;&#10; &lt;p&gt;[6] J. Cardoso, and P. Siron, &quot;Ptolemy-HLA: a Cyber-Physical System Distributed&#10;     Simulation Framework&quot;, Festschrift Lee, Internal DISC report, 2017. &lt;/p&gt;  </description>
  <author>Gilles Lasnier, Contributors: Patricia Derler, Edward A. Lee, David Come, Yanxuan LI</author>
  <version>$Id: HlaManager.java 214 2018-04-01 13:32:02Z j.cardoso $</version>
  <since>Ptolemy II 11.0</since>
  <Pt.ProposedRating>Yellow (glasnier)</Pt.ProposedRating>
  <Pt.AcceptedRating>Red (glasnier)</Pt.AcceptedRating>
    <!--ptolemy.data.expr.Parameter-->
    <property name="federateName">Name of the Ptolemy Federate. This parameter must contain an&#10;  StringToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="federationName">Name of the federation. This parameter must contain an StringToken.</property>
    <!--ptolemy.data.expr.FileParameter-->
    <property name="fedFile">Path and name of the Federation Object Model (FOM) file (which should have&#10;  extension .fed).</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="hlaTimeUnit">Double value for representing how much is a unit of time in the simulation.&#10;  Has an impact on TAR/NER/RAV/UAV.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="isCreator">Boolean value, 'true' if the Federate is the creator of the&#10;  synchronization point 'false' if not. This parameter must contain&#10;  an BooleanToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="isTimeConstrained">Boolean value, 'true' if the Federate is declared time constrained&#10;  'false' if not. This parameter must contain an BooleanToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="isTimeRegulator">Boolean value, 'true' if the Federate is declared time regulator&#10;  'false' if not. This parameter must contain an BooleanToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="hlaTimeStep">Value of the time step of the Federate. This parameter must contain&#10;  an DoubleToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="hlaLookAHead">Value of the lookahead of the HLA ptII federate. This parameter&#10;  must contain an DoubleToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="requireSynchronization">Boolean value, 'true' if the Federate is synchronised with other&#10;  Federates using a HLA synchronization point, 'false' if not. This&#10;  parameter must contain an BooleanToken.</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="synchronizationPointName">Name of the synchronization point (if required). This parameter must&#10;  contain an StringToken.</property>
    <!--ptolemy.data.expr.ChoiceParameter-->
    <property name="timeManagementService">Choice of time advancement service (NER or exclusive TAR).</property>
    <!--ptolemy.data.expr.Parameter-->
    <property name="enableHlaReporter">Boolean value, 'true' if the generation of HLA reports is enabled&#10;  'false' if not. This parameter must contain an BooleanToken.</property>
    <!--ptolemy.data.expr.FileParameter-->
    <property name="hlaReportPath">Path and name of the HLA folder to store reports. This parameter&#10;  must contain a String.</property>
</doc>
