<?xml version="1.0" standalone="yes"?>
<!DOCTYPE doc PUBLIC "-//UC Berkeley//DTD DocML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/DocML_1.dtd">
<doc name="CertiRtig" class="org.hlacerti.lib.CertiRtig">
  <description>
&lt;p&gt;Execute the HLA/CERTI RTIG in a subprocess.&#10; &lt;/p&gt;&lt;p&gt;&#10; This object is based on the Exec actor implementation. It invokes the&#10; HLA/CERTI RTIG as a subprocess in a specified &lt;i&gt;directory&lt;/i&gt; with a specified&#10; &lt;i&gt;environment&lt;/i&gt;. A default platform-dependent shell command is preprended&#10; so the RTIG is executed within the shell. If another RTIG process is running&#10; the current subprocess is destroyed.&#10; &lt;/p&gt;&lt;p&gt;&#10; This object is used by the &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt; and need to be performed before&#10; the initialization of a HLA/CERTI Federate. That's why we execute this mechanism&#10; in the &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt; preinitialize() method.&#10; &lt;/p&gt;&lt;p&gt;&#10; The specified &lt;i&gt;directory&lt;/i&gt; is the current directory of the Ptolemy&#10; simulation and needs to contain the Federate Object Management file (.fed).&#10; This directory is provided by the specification of the .fed file path during&#10; the configuration of the &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt; attribute.&#10; FIXMEjc: check last changes concerning JCERTI and the way to give the .fed file&#10; address.&#10; &lt;/p&gt;&lt;p&gt;&#10; For a correct execution, the &lt;i&gt;CERTI_HOME&lt;/i&gt; environment variable has to be&#10; set. It could be set in the shell (by running one of the scripts provided by&#10; CERTI) where Vergil is executed, or as a parameter of the Ptolemy model or as&#10; a parameter of the &lt;a href=&quot;../../../org/hlacerti/lib/HlaManager.xml&quot;&gt;org.hlacerti.lib.HlaManager&lt;/a&gt;:&#10; FIXMEjc: As for today, certi_home is not set in Ptolemy model neither is a&#10; parameter in hlaManager. Only in the shel, or in .bashrc ou .bash_profile.&#10; &lt;/p&gt;&lt;pre&gt;&#10; CERTI_HOME=&quot;/absolute/path/to/certi/&quot;&#10; &lt;/pre&gt;&lt;p&gt;&#10; Otherwise, the current implementation is not able to find the CERTI&#10; environment, the RTIG binary and to perform its execution.&#10; &lt;/p&gt;&lt;b&gt;&#10; Current limitation:&#10; &lt;/b&gt;&lt;br&gt;&#10; Federate that has launched the RTIG could shutdown the subprocess at the&#10; end of the simulation before the other Federates have left the Federation.&#10; Then an exception is throwed.&#10; FIXMEjc: the above limitation was present in Oct 2013. Check if it is still true.  </description>
  <author>Gilles Lasnier, Christopher Brooks</author>
  <version>$Id: CertiRtig.java 214 2018-04-01 13:32:02Z j.cardoso $</version>
  <since>Ptolemy II 11.0</since>
  <Pt.ProposedRating>Yellow (glasnier)</Pt.ProposedRating>
  <Pt.AcceptedRating>Red (glasnier)</Pt.AcceptedRating>
</doc>
